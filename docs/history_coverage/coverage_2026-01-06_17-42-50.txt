Coverage Report generated at 06/01/2026, 14:42:50
command: npm run test:coverage
--------------------------------------------------------------------------------


> central-univesp@2.10.0 test:coverage
> jest --coverage

  console.error
    Error: Not implemented: navigation (except hash changes)
        at module.exports (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jsdom\lib\jsdom\browser\not-implemented.js:9:17)
        at navigateFetch (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jsdom\lib\jsdom\living\window\navigation.js:77:3)
        at exports.navigate (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jsdom\lib\jsdom\living\window\navigation.js:55:3)
        at LocationImpl._locationObjectNavigate (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jsdom\lib\jsdom\living\window\Location-impl.js:30:5)
        at LocationImpl._locationObjectSetterNavigate (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jsdom\lib\jsdom\living\window\Location-impl.js:24:17)
        at LocationImpl.set href [as href] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jsdom\lib\jsdom\living\window\Location-impl.js:46:10)
        at Location.set href [as href] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jsdom\lib\jsdom\living\generated\Location.js:125:37)
        at Reflect.set (<anonymous>)
        at Window.set location [as location] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jsdom\lib\jsdom\browser\Window.js:424:15)
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\import\services\BatchScraper\tests\BatchScraper.test.js:63:22)
        at Promise.finally.completed (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at _runTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:497:12) {
      type: 'not implemented'
    }

      61 |       delete window.location;
      62 |       // @ts-ignore - Mock para teste
    > 63 |       window.location = { href: 'https://google.com' };
         |                      ^
      64 |       const result = await DOM_scanTermsAndCourses_Injected();
      65 |       expect(result.success).toBe(false);
      66 |       expect(result.message).toContain('acesse a p√°gina de Cursos');

      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at module.exports (node_modules/jsdom/lib/jsdom/browser/not-implemented.js:12:26)
      at navigateFetch (node_modules/jsdom/lib/jsdom/living/window/navigation.js:77:3)
      at exports.navigate (node_modules/jsdom/lib/jsdom/living/window/navigation.js:55:3)
      at LocationImpl._locationObjectNavigate (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:30:5)
      at LocationImpl._locationObjectSetterNavigate (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:24:17)
      at LocationImpl.set href [as href] (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:46:10)
      at Location.set href [as href] (node_modules/jsdom/lib/jsdom/living/generated/Location.js:125:37)
          at Reflect.set (<anonymous>)
      at Window.set location [as location] (node_modules/jsdom/lib/jsdom/browser/Window.js:424:15)
      at Object.<anonymous> (features/courses/import/services/BatchScraper/tests/BatchScraper.test.js:63:22)

  console.error
    Error: Not implemented: navigation (except hash changes)
        at module.exports (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jsdom\lib\jsdom\browser\not-implemented.js:9:17)
        at navigateFetch (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jsdom\lib\jsdom\living\window\navigation.js:77:3)
        at exports.navigate (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jsdom\lib\jsdom\living\window\navigation.js:55:3)
        at LocationImpl._locationObjectNavigate (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jsdom\lib\jsdom\living\window\Location-impl.js:30:5)
        at LocationImpl._locationObjectSetterNavigate (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jsdom\lib\jsdom\living\window\Location-impl.js:24:17)
        at LocationImpl.set href [as href] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jsdom\lib\jsdom\living\window\Location-impl.js:46:10)
        at Location.set href [as href] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jsdom\lib\jsdom\living\generated\Location.js:125:37)
        at Reflect.set (<anonymous>)
        at Window.set location [as location] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jsdom\lib\jsdom\browser\Window.js:424:15)
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\import\services\BatchScraper\tests\BatchScraper.test.js:74:22)
        at Promise.finally.completed (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at _runTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:497:12) {
      type: 'not implemented'
    }

      72 |       delete window.location;
      73 |       // @ts-ignore - Mock para teste
    > 74 |       window.location = {
         |                      ^
      75 |         href: 'https://ava.univesp.br/ultra/course',
      76 |         origin: 'https://ava.univesp.br',
      77 |       };

      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at module.exports (node_modules/jsdom/lib/jsdom/browser/not-implemented.js:12:26)
      at navigateFetch (node_modules/jsdom/lib/jsdom/living/window/navigation.js:77:3)
      at exports.navigate (node_modules/jsdom/lib/jsdom/living/window/navigation.js:55:3)
      at LocationImpl._locationObjectNavigate (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:30:5)
      at LocationImpl._locationObjectSetterNavigate (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:24:17)
      at LocationImpl.set href [as href] (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:46:10)
      at Location.set href [as href] (node_modules/jsdom/lib/jsdom/living/generated/Location.js:125:37)
          at Reflect.set (<anonymous>)
      at Window.set location [as location] (node_modules/jsdom/lib/jsdom/browser/Window.js:424:15)
      at Object.<anonymous> (features/courses/import/services/BatchScraper/tests/BatchScraper.test.js:74:22)

  console.error
    Error: Not implemented: window.scrollTo
        at module.exports (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jsdom\lib\jsdom\browser\not-implemented.js:9:17)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jsdom\lib\jsdom\browser\Window.js:960:7
        at scrollTo (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\import\services\BatchScraper\index.js:183:16)
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\import\services\BatchScraper\tests\BatchScraper.test.js:87:60)
        at Promise.finally.completed (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at _runTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:497:12) {
      type: 'not implemented'
    }

      181 |     while (attempts < 10) {
      182 |       if (scrollTarget === window) {
    > 183 |         window.scrollTo(0, document.body.scrollHeight);
          |                ^
      184 |       } else {
      185 |         /** @type {HTMLElement} */ (scrollTarget).scrollTop = /** @type {HTMLElement} */ (
      186 |           scrollTarget

      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at module.exports (node_modules/jsdom/lib/jsdom/browser/not-implemented.js:12:26)
      at node_modules/jsdom/lib/jsdom/browser/Window.js:960:7
      at scrollTo (features/courses/import/services/BatchScraper/index.js:183:16)
      at Object.<anonymous> (features/courses/import/services/BatchScraper/tests/BatchScraper.test.js:87:60)

  console.warn
    [Security] Trusted Types API not supported in this browser.

      53 |     }
      54 |   } else {
    > 55 |     console.warn('[Security] Trusted Types API not supported in this browser.');
         |             ^
      56 |   }
      57 | }
      58 |

      at warn (shared/security/TrustedTypesPolicy.js:55:13)
      at Object.<anonymous> (background/index.js:5:17)
      at require (background/tests/background.test.js:53:7)
      at background/tests/background.test.js:53:7

  console.warn
    [Security] Trusted Types API not supported in this browser.

      53 |     }
      54 |   } else {
    > 55 |     console.warn('[Security] Trusted Types API not supported in this browser.');
         |             ^
      56 |   }
      57 | }
      58 |

      at warn (shared/security/TrustedTypesPolicy.js:55:13)
      at Object.<anonymous> (background/index.js:5:17)
      at require (background/tests/background.test.js:53:7)
      at background/tests/background.test.js:53:7

  console.warn
    [Security] Trusted Types API not supported in this browser.

      53 |     }
      54 |   } else {
    > 55 |     console.warn('[Security] Trusted Types API not supported in this browser.');
         |             ^
      56 |   }
      57 | }
      58 |

      at warn (shared/security/TrustedTypesPolicy.js:55:13)
      at Object.<anonymous> (background/index.js:5:17)
      at require (background/tests/background.test.js:53:7)
      at background/tests/background.test.js:53:7

  console.warn
    [Security] Trusted Types API not supported in this browser.

      53 |     }
      54 |   } else {
    > 55 |     console.warn('[Security] Trusted Types API not supported in this browser.');
         |             ^
      56 |   }
      57 | }
      58 |

      at warn (shared/security/TrustedTypesPolicy.js:55:13)
      at Object.<anonymous> (background/index.js:5:17)
      at require (background/tests/background.test.js:53:7)
      at background/tests/background.test.js:53:7

  console.error
    [DOMSafe] Blocked unsafe protocol: javascript:alert(1)

      89 |     const dangerousProtocols = /^(javascript|vbscript|data|file|about):/i;
      90 |     if (dangerousProtocols.test(trimmed)) {
    > 91 |       console.error(`[DOMSafe] Blocked unsafe protocol: ${trimmed}`);
         |               ^
      92 |       return '';
      93 |     }
      94 |

      at DOMSafe.error [as sanitizeUrl] (shared/utils/DOMSafe.js:91:15)
      at sanitizeUrl (tests/xss-penetration.test.js:73:24)
          at Array.forEach (<anonymous>)
      at Object.forEach (tests/xss-penetration.test.js:72:15)

  console.error
    [ChunkedStorage] Erro ao salvar courses_metadata: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:64:28)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseStorage.migrateLegacyData (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:139:7)
        at CourseStorage.getAll (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:16)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:75:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at ChunkedStorage.error [as saveChunked] (shared/utils/ChunkedStorage.js:80:14)
      at CourseStorage.saveChunked [as saveAll] (features/courses/repositories/CourseStorage.js:67:28)
      at CourseStorage.migrateLegacyData (features/courses/repositories/CourseStorage.js:139:7)
      at CourseStorage.getAll (features/courses/repositories/CourseStorage.js:30:16)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:75:23)

  console.error
    [DOMSafe] Blocked unsafe protocol: JaVaScRiPt:alert(1)

      89 |     const dangerousProtocols = /^(javascript|vbscript|data|file|about):/i;
      90 |     if (dangerousProtocols.test(trimmed)) {
    > 91 |       console.error(`[DOMSafe] Blocked unsafe protocol: ${trimmed}`);
         |               ^
      92 |       return '';
      93 |     }
      94 |

      at DOMSafe.error [as sanitizeUrl] (shared/utils/DOMSafe.js:91:15)
      at sanitizeUrl (tests/xss-penetration.test.js:73:24)
          at Array.forEach (<anonymous>)
      at Object.forEach (tests/xss-penetration.test.js:72:15)

  console.error
    [CourseStorage] Erro CR√çTICO ao salvar cursos: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:64:28)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseStorage.migrateLegacyData (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:139:7)
        at CourseStorage.getAll (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:16)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:75:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as saveAll] (features/courses/repositories/CourseStorage.js:87:14)
      at CourseStorage.migrateLegacyData (features/courses/repositories/CourseStorage.js:139:7)
      at CourseStorage.getAll (features/courses/repositories/CourseStorage.js:30:16)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:75:23)

  console.error
    [DOMSafe] Blocked protocol: javascripts:

      100 |       const allowedProtocols = ['http:', 'https:', 'chrome-extension:'];
      101 |       if (!allowedProtocols.includes(parsed.protocol)) {
    > 102 |         console.error(`[DOMSafe] Blocked protocol: ${parsed.protocol}`);
          |                 ^
      103 |         return '';
      104 |       }
      105 |

      at DOMSafe.error [as sanitizeUrl] (shared/utils/DOMSafe.js:102:17)
      at sanitizeUrl (tests/xss-penetration.test.js:73:24)
          at Array.forEach (<anonymous>)
      at Object.forEach (tests/xss-penetration.test.js:72:15)

  console.error
    [CourseStorage] Erro na migra√ß√£o: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:64:28)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseStorage.migrateLegacyData (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:139:7)
        at CourseStorage.getAll (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:16)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:75:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as migrateLegacyData] (features/courses/repositories/CourseStorage.js:150:14)
      at CourseStorage.getAll (features/courses/repositories/CourseStorage.js:30:16)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:75:23)

  console.error
    [DOMSafe] Blocked unsafe protocol: javascript:alert(1)

      89 |     const dangerousProtocols = /^(javascript|vbscript|data|file|about):/i;
      90 |     if (dangerousProtocols.test(trimmed)) {
    > 91 |       console.error(`[DOMSafe] Blocked unsafe protocol: ${trimmed}`);
         |               ^
      92 |       return '';
      93 |     }
      94 |

      at DOMSafe.error [as sanitizeUrl] (shared/utils/DOMSafe.js:91:15)
      at sanitizeUrl (tests/xss-penetration.test.js:73:24)
          at Array.forEach (<anonymous>)
      at Object.forEach (tests/xss-penetration.test.js:72:15)

  console.error
    [ChunkedStorage] Erro ao salvar courses_metadata: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:64:28)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseRepository.saveItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:40:7)
        at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:95:7)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at ChunkedStorage.error [as saveChunked] (shared/utils/ChunkedStorage.js:80:14)
      at CourseStorage.saveChunked [as saveAll] (features/courses/repositories/CourseStorage.js:67:28)
      at CourseRepository.saveItems (features/courses/repositories/CourseRepository.js:40:7)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:95:7)

  console.error
    [CourseStorage] Erro CR√çTICO ao salvar cursos: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:64:28)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseRepository.saveItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:40:7)
        at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:95:7)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as saveAll] (features/courses/repositories/CourseStorage.js:87:14)
      at CourseRepository.saveItems (features/courses/repositories/CourseRepository.js:40:7)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:95:7)

  console.error
    [DOMSafe] Blocked unsafe protocol: data:text/html,<script>alert(1)</script>

      89 |     const dangerousProtocols = /^(javascript|vbscript|data|file|about):/i;
      90 |     if (dangerousProtocols.test(trimmed)) {
    > 91 |       console.error(`[DOMSafe] Blocked unsafe protocol: ${trimmed}`);
         |               ^
      92 |       return '';
      93 |     }
      94 |

      at DOMSafe.error [as sanitizeUrl] (shared/utils/DOMSafe.js:91:15)
      at sanitizeUrl (tests/xss-penetration.test.js:80:24)
          at Array.forEach (<anonymous>)
      at Object.forEach (tests/xss-penetration.test.js:79:15)

  console.error
    [CourseRepository] [DEBUG-RACE] üî¥ ERRO AO SALVAR CURSOS: {
      error: TypeError: Cannot read properties of undefined (reading '0')
          at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:64:28)
          at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
          at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
          at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
          at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
          at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
          at processTicksAndRejections (node:internal/process/task_queues:103:5)
          at CourseRepository.saveItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:40:7)
          at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:95:7),
      type: 'object',
      message: "Cannot read properties of undefined (reading '0')",
      stack: "TypeError: Cannot read properties of undefined (reading '0')\n" +
        '    at Object.<anonymous> (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\tests\\repositories\\CourseRepository\\add.test.js:64:28)\n' +
        '    at C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\node_modules\\jest-mock\\build\\index.js:305:39\n' +
        '    at Object.<anonymous> (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\node_modules\\jest-mock\\build\\index.js:312:13)\n' +
        '    at Object.mockConstructor [as set] (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\node_modules\\jest-mock\\build\\index.js:57:19)\n' +
        '    at ChunkedStorage.set [as saveChunked] (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\shared\\utils\\ChunkedStorage.js:46:36)\n' +
        '    at CourseStorage.saveChunked [as saveAll] (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\repositories\\CourseStorage.js:67:28)\n' +
        '    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
        '    at CourseRepository.saveItems (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\repositories\\CourseRepository.js:40:7)\n' +
        '    at CourseRepository.add (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\repositories\\CourseRepository.js:95:7)'
    }

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseRepository.error [as saveItems] (features/courses/repositories/CourseRepository.js:44:14)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:95:7)

  console.error
    [DOMSafe] Blocked unsafe protocol: vbscript:msgbox("xss")

      89 |     const dangerousProtocols = /^(javascript|vbscript|data|file|about):/i;
      90 |     if (dangerousProtocols.test(trimmed)) {
    > 91 |       console.error(`[DOMSafe] Blocked unsafe protocol: ${trimmed}`);
         |               ^
      92 |       return '';
      93 |     }
      94 |

      at DOMSafe.error [as sanitizeUrl] (shared/utils/DOMSafe.js:91:15)
      at sanitizeUrl (tests/xss-penetration.test.js:80:24)
          at Array.forEach (<anonymous>)
      at Object.forEach (tests/xss-penetration.test.js:79:15)

  console.error
    [DOMSafe] Invalid URL: http://[invalid-ipv6]

      110 |         return /** @type {SafeURL} */ (trimmed);
      111 |       }
    > 112 |       console.error(`[DOMSafe] Invalid URL: ${trimmed}`);
          |               ^
      113 |       return '';
      114 |     }
      115 |   }

      at DOMSafe.error [as sanitizeUrl] (shared/utils/DOMSafe.js:112:15)
      at Object.sanitizeUrl (tests/xss-penetration.test.js:88:22)

PASS features/courses/services/WeekContentScraper/strategies/tests/VideoStrategy.test.js
  console.error
    [ChunkedStorage] Erro ao salvar courses_metadata: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:124:41)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseStorage.migrateLegacyData (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:139:7)
        at CourseStorage.getAll (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:16)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:75:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at ChunkedStorage.error [as saveChunked] (shared/utils/ChunkedStorage.js:80:14)
      at CourseStorage.saveChunked [as saveAll] (features/courses/repositories/CourseStorage.js:67:28)
      at CourseStorage.migrateLegacyData (features/courses/repositories/CourseStorage.js:139:7)
      at CourseStorage.getAll (features/courses/repositories/CourseStorage.js:30:16)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:75:23)

  console.error
    [CourseStorage] Erro CR√çTICO ao salvar cursos: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:124:41)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseStorage.migrateLegacyData (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:139:7)
        at CourseStorage.getAll (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:16)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:75:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as saveAll] (features/courses/repositories/CourseStorage.js:87:14)
      at CourseStorage.migrateLegacyData (features/courses/repositories/CourseStorage.js:139:7)
      at CourseStorage.getAll (features/courses/repositories/CourseStorage.js:30:16)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:75:23)

  console.error
    [CourseStorage] Erro na migra√ß√£o: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:124:41)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseStorage.migrateLegacyData (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:139:7)
        at CourseStorage.getAll (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:16)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:75:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as migrateLegacyData] (features/courses/repositories/CourseStorage.js:150:14)
      at CourseStorage.getAll (features/courses/repositories/CourseStorage.js:30:16)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:75:23)

  VideoStrategy
    matches()
      ‚àö deve detectar por √≠cone de v√≠deo cl√°ssico (38 ms)
      ‚àö deve detectar por iframe do YouTube (27 ms)
      ‚àö deve detectar por iframe do Vimeo (25 ms)
      ‚àö deve detectar por tag <video> (6 ms)
      ‚àö n√£o deve detectar li sem v√≠deo ou √≠cone correto (5 ms)
    extract()
      ‚àö deve extrair dados do formato padr√£o (√≠cone + link) (16 ms)
      ‚àö deve extrair do iframe se link H3 estiver ausente (19 ms)
      ‚àö deve extrair da tag <video> se link e iframe estiverem ausentes (9 ms)
      ‚àö deve limpar URLs do YouTube para formato watch (3 ms)
      ‚àö deve retornar null se n√£o houver link, iframe ou video com src (1 ms)
      ‚àö deve usar nome gen√©rico se n√£o houver span ou title (10 ms)
      ‚àö deve retornar URL original se sanitizeUrl falhar (1 ms)
      ‚àö deve lidar com iconImg sem src ou alt (1 ms)
      ‚àö deve lidar com iframe sem src (11 ms)
      ‚àö deve lidar com video sem src em extract (2 ms)
      ‚àö deve lidar com iframe sem src em extract (16 ms)

PASS features/courses/tests/services/ScraperService.test.js
  Servi√ßo de Scraping - L√≥gica
    ‚àö scrapeWeeksFromTab deve chamar executeScript corretamente (10 ms)
    ‚àö scrapeWeeksFromTab deve lidar com retorno vazio de script (1 ms)
    ‚àö scrapeWeeksFromTab deve mesclar resultados de m√∫ltiplos frames (1 ms)
    ‚àö scrapeWeeksFromTab deve remover duplicatas baseado em URL
    ‚àö scrapeWeeksFromTab deve ordenar semanas numericamente (1 ms)
    ‚àö scrapeWeeksFromTab deve ignorar semanas sem URL v√°lida
    ‚àö scrapeWeeksFromTab deve lidar com erro na execu√ß√£o do script
    ‚àö scrapeWeeksFromTab deve lidar com resultado (result) indefinido ou nulo (1 ms)
    ‚àö scrapeWeeksFromTab deve lidar com campo weeks n√£o sendo um array
    ‚àö scrapeWeeksFromTab deve usar o primeiro t√≠tulo v√°lido (n√£o-nulo) encontrado (1 ms)
    ‚àö scrapeWeeksFromTab deve capturar e ordenar "Revis√£o" ao final (1 ms)

  console.error
    [ChunkedStorage] Erro ao salvar courses_metadata: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:124:41)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseRepository.saveItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:40:7)
        at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:95:7)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at ChunkedStorage.error [as saveChunked] (shared/utils/ChunkedStorage.js:80:14)
      at CourseStorage.saveChunked [as saveAll] (features/courses/repositories/CourseStorage.js:67:28)
      at CourseRepository.saveItems (features/courses/repositories/CourseRepository.js:40:7)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:95:7)

  console.error
    [CourseStorage] Erro CR√çTICO ao salvar cursos: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:124:41)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseRepository.saveItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:40:7)
        at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:95:7)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as saveAll] (features/courses/repositories/CourseStorage.js:87:14)
      at CourseRepository.saveItems (features/courses/repositories/CourseRepository.js:40:7)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:95:7)

  console.error
    [CourseRepository] [DEBUG-RACE] üî¥ ERRO AO SALVAR CURSOS: {
      error: TypeError: Cannot read properties of undefined (reading '0')
          at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:124:41)
          at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
          at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
          at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
          at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
          at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
          at processTicksAndRejections (node:internal/process/task_queues:103:5)
          at CourseRepository.saveItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:40:7)
          at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:95:7),
      type: 'object',
      message: "Cannot read properties of undefined (reading '0')",
      stack: "TypeError: Cannot read properties of undefined (reading '0')\n" +
        '    at Object.<anonymous> (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\tests\\repositories\\CourseRepository\\add.test.js:124:41)\n' +
        '    at C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\node_modules\\jest-mock\\build\\index.js:305:39\n' +
        '    at Object.<anonymous> (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\node_modules\\jest-mock\\build\\index.js:312:13)\n' +
        '    at Object.mockConstructor [as set] (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\node_modules\\jest-mock\\build\\index.js:57:19)\n' +
        '    at ChunkedStorage.set [as saveChunked] (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\shared\\utils\\ChunkedStorage.js:46:36)\n' +
        '    at CourseStorage.saveChunked [as saveAll] (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\repositories\\CourseStorage.js:67:28)\n' +
        '    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
        '    at CourseRepository.saveItems (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\repositories\\CourseRepository.js:40:7)\n' +
        '    at CourseRepository.add (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\repositories\\CourseRepository.js:95:7)'
    }

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseRepository.error [as saveItems] (features/courses/repositories/CourseRepository.js:44:14)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:95:7)

  console.error
    [ChunkedStorage] Erro ao salvar courses_metadata: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:141:41)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseStorage.migrateLegacyData (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:139:7)
        at CourseStorage.getAll (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:16)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:75:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at ChunkedStorage.error [as saveChunked] (shared/utils/ChunkedStorage.js:80:14)
      at CourseStorage.saveChunked [as saveAll] (features/courses/repositories/CourseStorage.js:67:28)
      at CourseStorage.migrateLegacyData (features/courses/repositories/CourseStorage.js:139:7)
      at CourseStorage.getAll (features/courses/repositories/CourseStorage.js:30:16)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:75:23)

  console.error
    [DOMSafe] Blocked unsafe protocol: javascript:alert(1)

      89 |     const dangerousProtocols = /^(javascript|vbscript|data|file|about):/i;
      90 |     if (dangerousProtocols.test(trimmed)) {
    > 91 |       console.error(`[DOMSafe] Blocked unsafe protocol: ${trimmed}`);
         |               ^
      92 |       return '';
      93 |     }
      94 |

      at DOMSafe.error [as sanitizeUrl] (shared/utils/DOMSafe.js:91:15)
      at sanitizeUrl (shared/utils/DOMSafe.js:171:35)
          at Array.forEach (<anonymous>)
      at DOMSafe.forEach [as createElement] (shared/utils/DOMSafe.js:131:32)
      at Object.createElement (tests/xss-penetration.test.js:104:25)

  console.error
    [CourseStorage] Erro CR√çTICO ao salvar cursos: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:141:41)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseStorage.migrateLegacyData (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:139:7)
        at CourseStorage.getAll (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:16)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:75:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as saveAll] (features/courses/repositories/CourseStorage.js:87:14)
      at CourseStorage.migrateLegacyData (features/courses/repositories/CourseStorage.js:139:7)
      at CourseStorage.getAll (features/courses/repositories/CourseStorage.js:30:16)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:75:23)

  console.error
    [CourseStorage] Erro na migra√ß√£o: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:141:41)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseStorage.migrateLegacyData (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:139:7)
        at CourseStorage.getAll (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:16)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:75:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as migrateLegacyData] (features/courses/repositories/CourseStorage.js:150:14)
      at CourseStorage.getAll (features/courses/repositories/CourseStorage.js:30:16)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:75:23)

  console.error
    [DOMSafe] Blocked dangerous attribute: srcdoc

      163 |       // 5. Atributos PERIGOSOS - BLOQUEAR
      164 |       if (DOMSafe.#DANGEROUS_ATTRIBUTES.has(key.toLowerCase())) {
    > 165 |         console.error(`[DOMSafe] Blocked dangerous attribute: ${key}`);
          |                 ^
      166 |         return;
      167 |       }
      168 |

      at error (shared/utils/DOMSafe.js:165:17)
          at Array.forEach (<anonymous>)
      at DOMSafe.forEach [as createElement] (shared/utils/DOMSafe.js:131:32)
      at createElement (tests/xss-penetration.test.js:122:29)
          at Array.forEach (<anonymous>)
      at Object.forEach (tests/xss-penetration.test.js:121:28)

  console.error
    [ChunkedStorage] Erro ao salvar courses_metadata: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:141:41)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseRepository.saveItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:40:7)
        at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:95:7)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at ChunkedStorage.error [as saveChunked] (shared/utils/ChunkedStorage.js:80:14)
      at CourseStorage.saveChunked [as saveAll] (features/courses/repositories/CourseStorage.js:67:28)
      at CourseRepository.saveItems (features/courses/repositories/CourseRepository.js:40:7)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:95:7)

  console.error
    [DOMSafe] Blocked dangerous attribute: codebase

      163 |       // 5. Atributos PERIGOSOS - BLOQUEAR
      164 |       if (DOMSafe.#DANGEROUS_ATTRIBUTES.has(key.toLowerCase())) {
    > 165 |         console.error(`[DOMSafe] Blocked dangerous attribute: ${key}`);
          |                 ^
      166 |         return;
      167 |       }
      168 |

      at error (shared/utils/DOMSafe.js:165:17)
          at Array.forEach (<anonymous>)
      at DOMSafe.forEach [as createElement] (shared/utils/DOMSafe.js:131:32)
      at createElement (tests/xss-penetration.test.js:122:29)
          at Array.forEach (<anonymous>)
      at Object.forEach (tests/xss-penetration.test.js:121:28)

  console.error
    [CourseStorage] Erro CR√çTICO ao salvar cursos: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:141:41)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseRepository.saveItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:40:7)
        at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:95:7)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as saveAll] (features/courses/repositories/CourseStorage.js:87:14)
      at CourseRepository.saveItems (features/courses/repositories/CourseRepository.js:40:7)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:95:7)

  console.error
    [CourseRepository] [DEBUG-RACE] üî¥ ERRO AO SALVAR CURSOS: {
      error: TypeError: Cannot read properties of undefined (reading '0')
          at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:141:41)
          at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
          at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
          at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
          at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
          at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
          at processTicksAndRejections (node:internal/process/task_queues:103:5)
          at CourseRepository.saveItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:40:7)
          at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:95:7),
      type: 'object',
      message: "Cannot read properties of undefined (reading '0')",
      stack: "TypeError: Cannot read properties of undefined (reading '0')\n" +
        '    at Object.<anonymous> (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\tests\\repositories\\CourseRepository\\add.test.js:141:41)\n' +
        '    at C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\node_modules\\jest-mock\\build\\index.js:305:39\n' +
        '    at Object.<anonymous> (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\node_modules\\jest-mock\\build\\index.js:312:13)\n' +
        '    at Object.mockConstructor [as set] (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\node_modules\\jest-mock\\build\\index.js:57:19)\n' +
        '    at ChunkedStorage.set [as saveChunked] (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\shared\\utils\\ChunkedStorage.js:46:36)\n' +
        '    at CourseStorage.saveChunked [as saveAll] (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\repositories\\CourseStorage.js:67:28)\n' +
        '    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
        '    at CourseRepository.saveItems (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\repositories\\CourseRepository.js:40:7)\n' +
        '    at CourseRepository.add (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\repositories\\CourseRepository.js:95:7)'
    }

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseRepository.error [as saveItems] (features/courses/repositories/CourseRepository.js:44:14)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:95:7)

  console.error
    [DOMSafe] Blocked dangerous attribute: archive

      163 |       // 5. Atributos PERIGOSOS - BLOQUEAR
      164 |       if (DOMSafe.#DANGEROUS_ATTRIBUTES.has(key.toLowerCase())) {
    > 165 |         console.error(`[DOMSafe] Blocked dangerous attribute: ${key}`);
          |                 ^
      166 |         return;
      167 |       }
      168 |

      at error (shared/utils/DOMSafe.js:165:17)
          at Array.forEach (<anonymous>)
      at DOMSafe.forEach [as createElement] (shared/utils/DOMSafe.js:131:32)
      at createElement (tests/xss-penetration.test.js:122:29)
          at Array.forEach (<anonymous>)
      at Object.forEach (tests/xss-penetration.test.js:121:28)

  console.error
    [DOMSafe] Blocked dangerous attribute: cite

      163 |       // 5. Atributos PERIGOSOS - BLOQUEAR
      164 |       if (DOMSafe.#DANGEROUS_ATTRIBUTES.has(key.toLowerCase())) {
    > 165 |         console.error(`[DOMSafe] Blocked dangerous attribute: ${key}`);
          |                 ^
      166 |         return;
      167 |       }
      168 |

      at error (shared/utils/DOMSafe.js:165:17)
          at Array.forEach (<anonymous>)
      at DOMSafe.forEach [as createElement] (shared/utils/DOMSafe.js:131:32)
      at createElement (tests/xss-penetration.test.js:122:29)
          at Array.forEach (<anonymous>)
      at Object.forEach (tests/xss-penetration.test.js:121:28)

  console.error
    [ChunkedStorage] Erro ao salvar courses_metadata: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:157:41)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseStorage.migrateLegacyData (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:139:7)
        at CourseStorage.getAll (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:16)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:75:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at ChunkedStorage.error [as saveChunked] (shared/utils/ChunkedStorage.js:80:14)
      at CourseStorage.saveChunked [as saveAll] (features/courses/repositories/CourseStorage.js:67:28)
      at CourseStorage.migrateLegacyData (features/courses/repositories/CourseStorage.js:139:7)
      at CourseStorage.getAll (features/courses/repositories/CourseStorage.js:30:16)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:75:23)

  console.error
    [CourseStorage] Erro CR√çTICO ao salvar cursos: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:157:41)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseStorage.migrateLegacyData (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:139:7)
        at CourseStorage.getAll (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:16)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:75:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as saveAll] (features/courses/repositories/CourseStorage.js:87:14)
      at CourseStorage.migrateLegacyData (features/courses/repositories/CourseStorage.js:139:7)
      at CourseStorage.getAll (features/courses/repositories/CourseStorage.js:30:16)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:75:23)

  console.error
    [CourseStorage] Erro na migra√ß√£o: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:157:41)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseStorage.migrateLegacyData (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:139:7)
        at CourseStorage.getAll (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:16)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:75:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as migrateLegacyData] (features/courses/repositories/CourseStorage.js:150:14)
      at CourseStorage.getAll (features/courses/repositories/CourseStorage.js:30:16)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:75:23)

  console.warn
    [DOMSafe] Unknown attribute blocked: onmouseover

      191 |
      192 |       // 9. Atributo desconhecido - LOG e BLOQUEAR por seguran√ßa
    > 193 |       console.warn(`[DOMSafe] Unknown attribute blocked: ${key}`);
          |               ^
      194 |     });
      195 |
      196 |     // Adicionar filhos recursivamente

      at warn (shared/utils/DOMSafe.js:193:15)
          at Array.forEach (<anonymous>)
      at DOMSafe.forEach [as createElement] (shared/utils/DOMSafe.js:131:32)
      at Object.createElement (tests/xss-penetration.test.js:130:27)

  console.error
    [ChunkedStorage] Erro ao salvar courses_metadata: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:157:41)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseRepository.saveItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:40:7)
        at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:95:7)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at ChunkedStorage.error [as saveChunked] (shared/utils/ChunkedStorage.js:80:14)
      at CourseStorage.saveChunked [as saveAll] (features/courses/repositories/CourseStorage.js:67:28)
      at CourseRepository.saveItems (features/courses/repositories/CourseRepository.js:40:7)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:95:7)

  console.warn
    [DOMSafe] Unknown attribute blocked: style-expression

      191 |
      192 |       // 9. Atributo desconhecido - LOG e BLOQUEAR por seguran√ßa
    > 193 |       console.warn(`[DOMSafe] Unknown attribute blocked: ${key}`);
          |               ^
      194 |     });
      195 |
      196 |     // Adicionar filhos recursivamente

      at warn (shared/utils/DOMSafe.js:193:15)
          at Array.forEach (<anonymous>)
      at DOMSafe.forEach [as createElement] (shared/utils/DOMSafe.js:131:32)
      at Object.createElement (tests/xss-penetration.test.js:130:27)

  console.error
    [CourseStorage] Erro CR√çTICO ao salvar cursos: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:157:41)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseRepository.saveItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:40:7)
        at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:95:7)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as saveAll] (features/courses/repositories/CourseStorage.js:87:14)
      at CourseRepository.saveItems (features/courses/repositories/CourseRepository.js:40:7)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:95:7)

  console.error
    [CourseRepository] [DEBUG-RACE] üî¥ ERRO AO SALVAR CURSOS: {
      error: TypeError: Cannot read properties of undefined (reading '0')
          at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:157:41)
          at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
          at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
          at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
          at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
          at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
          at processTicksAndRejections (node:internal/process/task_queues:103:5)
          at CourseRepository.saveItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:40:7)
          at CourseRepository.add (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:95:7),
      type: 'object',
      message: "Cannot read properties of undefined (reading '0')",
      stack: "TypeError: Cannot read properties of undefined (reading '0')\n" +
        '    at Object.<anonymous> (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\tests\\repositories\\CourseRepository\\add.test.js:157:41)\n' +
        '    at C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\node_modules\\jest-mock\\build\\index.js:305:39\n' +
        '    at Object.<anonymous> (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\node_modules\\jest-mock\\build\\index.js:312:13)\n' +
        '    at Object.mockConstructor [as set] (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\node_modules\\jest-mock\\build\\index.js:57:19)\n' +
        '    at ChunkedStorage.set [as saveChunked] (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\shared\\utils\\ChunkedStorage.js:46:36)\n' +
        '    at CourseStorage.saveChunked [as saveAll] (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\repositories\\CourseStorage.js:67:28)\n' +
        '    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
        '    at CourseRepository.saveItems (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\repositories\\CourseRepository.js:40:7)\n' +
        '    at CourseRepository.add (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\repositories\\CourseRepository.js:95:7)'
    }

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseRepository.error [as saveItems] (features/courses/repositories/CourseRepository.js:44:14)
      at CourseRepository.add (features/courses/repositories/CourseRepository.js:95:7)

  console.warn
    [DOMSafe] Unknown attribute blocked: unknown-attr

      191 |
      192 |       // 9. Atributo desconhecido - LOG e BLOQUEAR por seguran√ßa
    > 193 |       console.warn(`[DOMSafe] Unknown attribute blocked: ${key}`);
          |               ^
      194 |     });
      195 |
      196 |     // Adicionar filhos recursivamente

      at warn (shared/utils/DOMSafe.js:193:15)
          at Array.forEach (<anonymous>)
      at DOMSafe.forEach [as createElement] (shared/utils/DOMSafe.js:131:32)
      at Object.createElement (tests/xss-penetration.test.js:130:27)

PASS features/courses/tests/concurrency/StorageRace.test.js
  Security: Storage Concurrency & Race Conditions
    ‚àö üî¥ DEVE FALHAR: Deve impedir sobrescrita cega (Last Write Wins) via Optimistic Locking (12 ms)

  console.error
    [ChunkedStorage] Erro ao salvar courses_metadata: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:209:23)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseStorage.migrateLegacyData (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:139:7)
        at CourseStorage.getAll (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:16)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.addBatch (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:112:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at ChunkedStorage.error [as saveChunked] (shared/utils/ChunkedStorage.js:80:14)
      at CourseStorage.saveChunked [as saveAll] (features/courses/repositories/CourseStorage.js:67:28)
      at CourseStorage.migrateLegacyData (features/courses/repositories/CourseStorage.js:139:7)
      at CourseStorage.getAll (features/courses/repositories/CourseStorage.js:30:16)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.addBatch (features/courses/repositories/CourseRepository.js:112:23)

  console.error
    [CourseStorage] Erro CR√çTICO ao salvar cursos: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:209:23)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseStorage.migrateLegacyData (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:139:7)
        at CourseStorage.getAll (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:16)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.addBatch (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:112:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as saveAll] (features/courses/repositories/CourseStorage.js:87:14)
      at CourseStorage.migrateLegacyData (features/courses/repositories/CourseStorage.js:139:7)
      at CourseStorage.getAll (features/courses/repositories/CourseStorage.js:30:16)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.addBatch (features/courses/repositories/CourseRepository.js:112:23)

  console.error
    [CourseStorage] Erro na migra√ß√£o: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:209:23)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseStorage.migrateLegacyData (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:139:7)
        at CourseStorage.getAll (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:16)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.addBatch (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:112:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as migrateLegacyData] (features/courses/repositories/CourseStorage.js:150:14)
      at CourseStorage.getAll (features/courses/repositories/CourseStorage.js:30:16)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.addBatch (features/courses/repositories/CourseRepository.js:112:23)

  console.error
    [CourseStorage] Erro na migra√ß√£o: TypeError: callback is not a function
        at Object.callback (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\update_delete.test.js:37:9)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as get] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:62:19)
        at CourseStorage.get [as migrateLegacyData] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:126:48)
        at CourseStorage.migrateLegacyData [as getAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:27)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.delete (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:152:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as migrateLegacyData] (features/courses/repositories/CourseStorage.js:150:14)
      at CourseStorage.migrateLegacyData [as getAll] (features/courses/repositories/CourseStorage.js:30:27)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.delete (features/courses/repositories/CourseRepository.js:152:23)

  console.error
    [ChunkedStorage] Erro ao salvar courses_metadata: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:209:23)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseRepository.saveItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:40:7)
        at CourseRepository.addBatch (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:135:9)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at ChunkedStorage.error [as saveChunked] (shared/utils/ChunkedStorage.js:80:14)
      at CourseStorage.saveChunked [as saveAll] (features/courses/repositories/CourseStorage.js:67:28)
      at CourseRepository.saveItems (features/courses/repositories/CourseRepository.js:40:7)
      at CourseRepository.addBatch (features/courses/repositories/CourseRepository.js:135:9)

  console.error
    [CourseStorage] Erro CR√çTICO ao salvar cursos: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:209:23)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseRepository.saveItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:40:7)
        at CourseRepository.addBatch (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:135:9)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as saveAll] (features/courses/repositories/CourseStorage.js:87:14)
      at CourseRepository.saveItems (features/courses/repositories/CourseRepository.js:40:7)
      at CourseRepository.addBatch (features/courses/repositories/CourseRepository.js:135:9)

  console.error
    [CourseRepository] [DEBUG-RACE] üî¥ ERRO AO SALVAR CURSOS: {
      error: TypeError: Cannot read properties of undefined (reading '0')
          at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:209:23)
          at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
          at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
          at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
          at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
          at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
          at processTicksAndRejections (node:internal/process/task_queues:103:5)
          at CourseRepository.saveItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:40:7)
          at CourseRepository.addBatch (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:135:9),
      type: 'object',
      message: "Cannot read properties of undefined (reading '0')",
      stack: "TypeError: Cannot read properties of undefined (reading '0')\n" +
        '    at Object.<anonymous> (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\tests\\repositories\\CourseRepository\\add.test.js:209:23)\n' +
        '    at C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\node_modules\\jest-mock\\build\\index.js:305:39\n' +
        '    at Object.<anonymous> (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\node_modules\\jest-mock\\build\\index.js:312:13)\n' +
        '    at Object.mockConstructor [as set] (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\node_modules\\jest-mock\\build\\index.js:57:19)\n' +
        '    at ChunkedStorage.set [as saveChunked] (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\shared\\utils\\ChunkedStorage.js:46:36)\n' +
        '    at CourseStorage.saveChunked [as saveAll] (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\repositories\\CourseStorage.js:67:28)\n' +
        '    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
        '    at CourseRepository.saveItems (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\repositories\\CourseRepository.js:40:7)\n' +
        '    at CourseRepository.addBatch (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\repositories\\CourseRepository.js:135:9)'
    }

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseRepository.error [as saveItems] (features/courses/repositories/CourseRepository.js:44:14)
      at CourseRepository.addBatch (features/courses/repositories/CourseRepository.js:135:9)

  console.error
    [CourseStorage] Erro na migra√ß√£o: TypeError: callback is not a function
        at Object.callback (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\update_delete.test.js:56:9)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as get] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:62:19)
        at CourseStorage.get [as migrateLegacyData] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:126:48)
        at CourseStorage.migrateLegacyData [as getAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:27)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.delete (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:152:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as migrateLegacyData] (features/courses/repositories/CourseStorage.js:150:14)
      at CourseStorage.migrateLegacyData [as getAll] (features/courses/repositories/CourseStorage.js:30:27)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.delete (features/courses/repositories/CourseRepository.js:152:23)

  console.error
    [ChunkedStorage] Erro ao salvar courses_metadata: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:331:41)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseStorage.migrateLegacyData (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:139:7)
        at CourseStorage.getAll (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:16)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.addBatch (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:112:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at ChunkedStorage.error [as saveChunked] (shared/utils/ChunkedStorage.js:80:14)
      at CourseStorage.saveChunked [as saveAll] (features/courses/repositories/CourseStorage.js:67:28)
      at CourseStorage.migrateLegacyData (features/courses/repositories/CourseStorage.js:139:7)
      at CourseStorage.getAll (features/courses/repositories/CourseStorage.js:30:16)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.addBatch (features/courses/repositories/CourseRepository.js:112:23)

  console.error
    [CourseStorage] Erro na migra√ß√£o: TypeError: callback is not a function
        at Object.callback (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\update_delete.test.js:88:9)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as get] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:62:19)
        at CourseStorage.get [as migrateLegacyData] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:126:48)
        at CourseStorage.migrateLegacyData [as getAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:27)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.update (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:168:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as migrateLegacyData] (features/courses/repositories/CourseStorage.js:150:14)
      at CourseStorage.migrateLegacyData [as getAll] (features/courses/repositories/CourseStorage.js:30:27)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.update (features/courses/repositories/CourseRepository.js:168:23)

  console.error
    [CourseStorage] Erro CR√çTICO ao salvar cursos: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:331:41)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseStorage.migrateLegacyData (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:139:7)
        at CourseStorage.getAll (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:16)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.addBatch (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:112:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as saveAll] (features/courses/repositories/CourseStorage.js:87:14)
      at CourseStorage.migrateLegacyData (features/courses/repositories/CourseStorage.js:139:7)
      at CourseStorage.getAll (features/courses/repositories/CourseStorage.js:30:16)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.addBatch (features/courses/repositories/CourseRepository.js:112:23)

  console.error
    [CourseStorage] Erro na migra√ß√£o: TypeError: callback is not a function
        at Object.callback (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\update_delete.test.js:107:9)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as get] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:62:19)
        at CourseStorage.get [as migrateLegacyData] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:126:48)
        at CourseStorage.migrateLegacyData [as getAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:27)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.update (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:168:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as migrateLegacyData] (features/courses/repositories/CourseStorage.js:150:14)
      at CourseStorage.migrateLegacyData [as getAll] (features/courses/repositories/CourseStorage.js:30:27)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.update (features/courses/repositories/CourseRepository.js:168:23)

  console.error
    [CourseStorage] Erro na migra√ß√£o: TypeError: callback is not a function
        at Object.callback (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\update_delete.test.js:127:9)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as get] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:62:19)
        at CourseStorage.get [as migrateLegacyData] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:126:48)
        at CourseStorage.migrateLegacyData [as getAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:27)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.update (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:168:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as migrateLegacyData] (features/courses/repositories/CourseStorage.js:150:14)
      at CourseStorage.migrateLegacyData [as getAll] (features/courses/repositories/CourseStorage.js:30:27)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.update (features/courses/repositories/CourseRepository.js:168:23)

  console.error
    [CourseStorage] Erro na migra√ß√£o: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:331:41)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseStorage.migrateLegacyData (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:139:7)
        at CourseStorage.getAll (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:16)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.addBatch (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:112:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as migrateLegacyData] (features/courses/repositories/CourseStorage.js:150:14)
      at CourseStorage.getAll (features/courses/repositories/CourseStorage.js:30:16)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.addBatch (features/courses/repositories/CourseRepository.js:112:23)

  console.error
    [ChunkedStorage] Erro ao salvar courses_metadata: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:331:41)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseRepository.saveItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:40:7)
        at CourseRepository.addBatch (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:135:9)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at ChunkedStorage.error [as saveChunked] (shared/utils/ChunkedStorage.js:80:14)
      at CourseStorage.saveChunked [as saveAll] (features/courses/repositories/CourseStorage.js:67:28)
      at CourseRepository.saveItems (features/courses/repositories/CourseRepository.js:40:7)
      at CourseRepository.addBatch (features/courses/repositories/CourseRepository.js:135:9)

  console.error
    [CourseStorage] Erro na migra√ß√£o: TypeError: callback is not a function
        at Object.callback (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\update_delete.test.js:145:9)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as get] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:62:19)
        at CourseStorage.get [as migrateLegacyData] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:126:48)
        at CourseStorage.migrateLegacyData [as getAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:27)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CourseRepository.update (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:168:23)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as migrateLegacyData] (features/courses/repositories/CourseStorage.js:150:14)
      at CourseStorage.migrateLegacyData [as getAll] (features/courses/repositories/CourseStorage.js:30:27)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CourseRepository.update (features/courses/repositories/CourseRepository.js:168:23)

  console.error
    [CourseStorage] Erro CR√çTICO ao salvar cursos: TypeError: Cannot read properties of undefined (reading '0')
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:331:41)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseRepository.saveItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:40:7)
        at CourseRepository.addBatch (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:135:9)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as saveAll] (features/courses/repositories/CourseStorage.js:87:14)
      at CourseRepository.saveItems (features/courses/repositories/CourseRepository.js:40:7)
      at CourseRepository.addBatch (features/courses/repositories/CourseRepository.js:135:9)

  console.error
    [CourseRepository] [DEBUG-RACE] üî¥ ERRO AO SALVAR CURSOS: {
      error: TypeError: Cannot read properties of undefined (reading '0')
          at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js:331:41)
          at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
          at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
          at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:57:19)
          at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
          at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
          at processTicksAndRejections (node:internal/process/task_queues:103:5)
          at CourseRepository.saveItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:40:7)
          at CourseRepository.addBatch (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:135:9),
      type: 'object',
      message: "Cannot read properties of undefined (reading '0')",
      stack: "TypeError: Cannot read properties of undefined (reading '0')\n" +
        '    at Object.<anonymous> (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\tests\\repositories\\CourseRepository\\add.test.js:331:41)\n' +
        '    at C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\node_modules\\jest-mock\\build\\index.js:305:39\n' +
        '    at Object.<anonymous> (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\node_modules\\jest-mock\\build\\index.js:312:13)\n' +
        '    at Object.mockConstructor [as set] (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\node_modules\\jest-mock\\build\\index.js:57:19)\n' +
        '    at ChunkedStorage.set [as saveChunked] (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\shared\\utils\\ChunkedStorage.js:46:36)\n' +
        '    at CourseStorage.saveChunked [as saveAll] (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\repositories\\CourseStorage.js:67:28)\n' +
        '    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
        '    at CourseRepository.saveItems (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\repositories\\CourseRepository.js:40:7)\n' +
        '    at CourseRepository.addBatch (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\repositories\\CourseRepository.js:135:9)'
    }

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseRepository.error [as saveItems] (features/courses/repositories/CourseRepository.js:44:14)
      at CourseRepository.addBatch (features/courses/repositories/CourseRepository.js:135:9)

PASS background/tests/background.test.js
  Background Script - Panel Behavior
    ‚àö Deve configurar sidepanel como padr√£o na instala√ß√£o se storage estiver vazio (101 ms)
    ‚àö Deve habilitar popup se clickBehavior for "popup" na instala√ß√£o (7 ms)
    ‚àö Deve atualizar comportamento quando storage mudar (onChanged) (20 ms)
    ‚àö Deve gerenciar disponibilidade do sidePanel baseado na URL (onUpdated) (8 ms)

  console.log
    [Extension:Scroll] Estrat√©gia de Busca {
      fullId: 'contentListItem:delayed',
      shortId: 'delayed',
      selectors: [
        '#contentListItem\\:delayed',
        'li[id^="contentListItem:delayed"]',
        'li[id*="delayed"]',
        '#delayed'
      ]
    }

      at log (shared/services/NavigationService.js:130:15)

  console.log
    [Extension:Scroll] Elemento n√£o encontrado de imediato. Iniciando MutationObserver...

      at log (shared/services/NavigationService.js:130:15)

  console.log
    [Extension:Scroll] Elemento encontrado via MutationObserver!

      at log (shared/services/NavigationService.js:130:15)

PASS tests/xss-penetration.test.js
  Security: XSS Penetration Testing
    DOMSafe.escapeHTML
      ‚àö should escape all XSS characters (12 ms)
      ‚àö should handle non-string inputs safely (1 ms)
    DOMSafe.sanitizeUrl
      ‚àö should allow benign URLs (4 ms)
      ‚àö should block javascript: protocol (64 ms)
      ‚àö should block data: and vbscript: (5 ms)
      ‚àö should block malformed URLs that fail parsing (4 ms)
    DOMSafe.createElement (XSS Injection)
      ‚àö should treat children as text, not HTML (23 ms)
      ‚àö should sanitize URL attributes (href, src) (7 ms)
      ‚àö should block blacklist attributes (17 ms)
      ‚àö should block unknown attributes (17 ms)
      ‚àö should allow data-* and aria-* attributes (2 ms)

PASS features/courses/tests/repositories/CourseRepository/add.test.js
  CourseRepository - Opera√ß√µes de Adi√ß√£o
    addItem() - Adicionar Curso √önico
      ‚àö deve adicionar um curso com sucesso (11 ms)
      ‚àö deve gerar um ID √∫nico baseado em Date.now() (105 ms)
      ‚àö deve rejeitar curso duplicado (mesma URL) (3 ms)
      ‚àö deve inicializar semanas vazias por padr√£o (24 ms)
      ‚àö deve aceitar semanas customizadas (20 ms)
      ‚àö deve persistir nome do termo (semestre/bimestre) passado via options (17 ms)
    addItemsBatch() - Adicionar M√∫ltiplos Cursos
      ‚àö deve adicionar m√∫ltiplos cursos corretamente (5 ms)
      ‚àö deve gerar IDs √∫nicos para cada curso do lote (17 ms)
      ‚àö deve ignorar cursos duplicados dentro do lote (3 ms)
      ‚àö deve lidar com lote vazio sem erros (1 ms)
      ‚àö deve n√£o chamar save() se todos os itens forem duplicatas (2 ms)
      ‚àö deve persistir termName nos itens do lote (29 ms)

PASS features/courses/services/tests/CourseRefresher.success.integration.test.js
  CourseRefresher Integration (Success)
    ‚àö deve identificar novos materiais e atualizar storage com sucesso (30 ms)

  console.error
    [ChunkedStorage] Erro ao salvar courses_metadata: Error: Quota Exceeded
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\tests\CourseRefresher.failure.integration.test.js:202:13)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:62:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseRepository.saveItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:40:7)
        at CourseRepository.update (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:172:9)
        at CourseRefresher.refreshCourse (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\CourseRefresher.js:51:9)
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\tests\CourseRefresher.failure.integration.test.js:208:20)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at ChunkedStorage.error [as saveChunked] (shared/utils/ChunkedStorage.js:80:14)
      at CourseStorage.saveChunked [as saveAll] (features/courses/repositories/CourseStorage.js:67:28)
      at CourseRepository.saveItems (features/courses/repositories/CourseRepository.js:40:7)
      at CourseRepository.update (features/courses/repositories/CourseRepository.js:172:9)
      at CourseRefresher.refreshCourse (features/courses/services/CourseRefresher.js:51:9)
      at Object.<anonymous> (features/courses/services/tests/CourseRefresher.failure.integration.test.js:208:20)

PASS features/courses/tests/repositories/CourseRepository/update_delete.test.js
  CourseRepository - Opera√ß√µes de Atualiza√ß√£o e Remo√ß√£o
    deleteItem()
      ‚àö deve remover um curso existente (105 ms)
      ‚àö deve fazer nada se o ID n√£o existir (opera√ß√£o segura) (8 ms)
      ‚àö deve executar o callback ap√≥s a tentativa de remo√ß√£o (4 ms)
    updateItem()
      ‚àö deve atualizar um curso existente corretamente (5 ms)
      ‚àö deve mesclar (merge) atualiza√ß√µes com os dados existentes (4 ms)
      ‚àö deve logar aviso se tentar atualizar ID inexistente (6 ms)
      ‚àö deve executar callback mesmo se o ID n√£o for encontrado (5 ms)
    clearItems()
      ‚àö deve limpar todos os cursos do storage (2 ms)
      ‚àö deve chamar saveItems com array vazio internamente (10 ms)
      ‚àö deve executar o callback ap√≥s o clear (1 ms)

  console.error
    [CourseStorage] Erro CR√çTICO ao salvar cursos: Error: Quota Exceeded
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\tests\CourseRefresher.failure.integration.test.js:202:13)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:62:19)
        at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
        at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseRepository.saveItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:40:7)
        at CourseRepository.update (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:172:9)
        at CourseRefresher.refreshCourse (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\CourseRefresher.js:51:9)
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\tests\CourseRefresher.failure.integration.test.js:208:20)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as saveAll] (features/courses/repositories/CourseStorage.js:87:14)
      at CourseRepository.saveItems (features/courses/repositories/CourseRepository.js:40:7)
      at CourseRepository.update (features/courses/repositories/CourseRepository.js:172:9)
      at CourseRefresher.refreshCourse (features/courses/services/CourseRefresher.js:51:9)
      at Object.<anonymous> (features/courses/services/tests/CourseRefresher.failure.integration.test.js:208:20)

  console.error
    [CourseRepository] [DEBUG-RACE] üî¥ ERRO AO SALVAR CURSOS: {
      error: Error: Quota Exceeded
          at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\tests\CourseRefresher.failure.integration.test.js:202:13)
          at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
          at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
          at Object.mockConstructor [as set] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:62:19)
          at ChunkedStorage.set [as saveChunked] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js:46:36)
          at CourseStorage.saveChunked [as saveAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:67:28)
          at processTicksAndRejections (node:internal/process/task_queues:103:5)
          at CourseRepository.saveItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:40:7)
          at CourseRepository.update (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:172:9)
          at CourseRefresher.refreshCourse (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\CourseRefresher.js:51:9)
          at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\tests\CourseRefresher.failure.integration.test.js:208:20),
      type: 'object',
      message: 'Quota Exceeded',
      stack: 'Error: Quota Exceeded\n' +
        '    at Object.<anonymous> (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\services\\tests\\CourseRefresher.failure.integration.test.js:202:13)\n' +
        '    at C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\node_modules\\jest-mock\\build\\index.js:305:39\n' +
        '    at Object.<anonymous> (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\node_modules\\jest-mock\\build\\index.js:312:13)\n' +
        '    at Object.mockConstructor [as set] (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\node_modules\\jest-mock\\build\\index.js:62:19)\n' +
        '    at ChunkedStorage.set [as saveChunked] (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\shared\\utils\\ChunkedStorage.js:46:36)\n' +
        '    at CourseStorage.saveChunked [as saveAll] (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\repositories\\CourseStorage.js:67:28)\n' +
        '    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
        '    at CourseRepository.saveItems (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\repositories\\CourseRepository.js:40:7)\n' +
        '    at CourseRepository.update (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\repositories\\CourseRepository.js:172:9)\n' +
        '    at CourseRefresher.refreshCourse (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\services\\CourseRefresher.js:51:9)\n' +
        '    at Object.<anonymous> (C:\\Users\\gerson_6061\\Desktop\\PROJETOS\\extensaoUNIVESP\\features\\courses\\services\\tests\\CourseRefresher.failure.integration.test.js:208:20)'
    }

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseRepository.error [as saveItems] (features/courses/repositories/CourseRepository.js:44:14)
      at CourseRepository.update (features/courses/repositories/CourseRepository.js:172:9)
      at CourseRefresher.refreshCourse (features/courses/services/CourseRefresher.js:51:9)
      at Object.<anonymous> (features/courses/services/tests/CourseRefresher.failure.integration.test.js:208:20)

  console.error
    [CourseRefresher] Error: Falha ao obter aba ativa
        at CourseRefresher.refreshCourse (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\CourseRefresher.js:31:29)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\tests\CourseRefresher.failure.integration.test.js:230:20)

      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
    > 109 |       console.error(prefix, message);
          |               ^
      110 |     }
      111 |   }
      112 |

      at Logger.error (shared/utils/Logger.js:109:15)
      at CourseRefresher.error [as refreshCourse] (features/courses/services/CourseRefresher.js:60:14)
      at Object.<anonymous> (features/courses/services/tests/CourseRefresher.failure.integration.test.js:230:20)

PASS shared/services/tests/NavigationService.test.js
  NavigationService
    openActivity
      ‚àö deve abrir a aba e injetar o script de scroll com sucesso (10 ms)
      ‚àö deve logar erro se falhar ao abrir aba (2 ms)
      ‚àö deve tratar erro na execu√ß√£o do script (1 ms)
      ‚àö deve aguardar tab.status === "loading" antes de injetar script (102 ms)
    openCourse
      ‚àö deve chamar Tabs.openOrSwitchTo com URL e pattern (3 ms)
    injectedScrollLogic (JSDOM)
      ‚àö deve encontrar elemento pelo ID completo e aplicar highlight (50 ms)
      ‚àö deve encontrar elemento pelo ID curto (6 ms)
      ‚àö deve fechar modal (lbAction) se presente (11 ms)
      ‚àö deve usar MutationObserver se elemento n√£o encontrado imediatamente (71 ms)

PASS features/courses/services/tests/CourseRefresher.failure.integration.test.js
  CourseRefresher Integration (Failure)
    ‚àö deve falhar graciosamente se URL da aba n√£o bater (mudou durante carga) (38 ms)
    ‚àö deve lidar com falha no scraping (ex: erro de script) (4 ms)
    ‚àö deve lidar com erro interno no CourseRepository (ex: falha de storage) (128 ms)
    ‚àö deve cair no catch se ocorrer um erro n√£o tratado (ex: falha ao obter aba) (6 ms)

  console.error
    [WeeksManager] Erro ao carregar preview: Error: Network Error
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\integration\TaskManagementFlow.test.js:125:14)
        at Promise.finally.completed (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
        at _runTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:497:12)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at WeeksManager.error [as showPreview] (features/courses/views/CourseWeeksView/WeeksManager.js:215:14)

  console.error
    [WeeksManager] Erro ao carregar preview: Error: Falha na coleta
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\views\CourseWeeksView\preview.test.js:143:16)
        at Promise.finally.completed (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at _runTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:497:12)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at WeeksManager.error [as showPreview] (features/courses/views/CourseWeeksView/WeeksManager.js:215:14)

PASS features/courses/tests/services/WeekContentScraper.test.js
  WeekContentScraper
    extractItemsFromDOM
      ‚àö deve extrair itens do DOM do AVA corretamente (87 ms)
      ‚àö deve identificar itens TODO (Marcar como Revista) (10 ms)
      ‚àö deve lidar com itens sem bot√£o de status (ex: r√≥tulos) (40 ms)
      ‚àö deve detectar diferentes tipos de conte√∫do baseados no √≠cone (12 ms)
      ‚àö deve ser robusto contra elementos faltantes (4 ms)
      ‚àö deve usar detectTypeFromUrl quando n√£o houver √≠cone (7 ms)
      ‚àö deve detectar f√≥rum pela URL (6 ms)
      ‚àö deve detectar recurso/pdf pela URL (11 ms)
      ‚àö deve usar "document" como padr√£o para URLs de tipo desconhecido (6 ms)
    L√≥gica de Sele√ß√£o de Aba e Navega√ß√£o
      ‚àö deve validar se a URL da aba corresponde aos IDs de curso e conte√∫do esperados (3 ms)
      ‚àö deve retornar false quando a URL da aba n√£o corresponder aos IDs (2 ms)
      ‚àö deve extrair courseId e contentId com regex preciso (3 ms)

PASS features/courses/tests/views/DetailsActivitiesWeekView/rendering-regression.test.js
  DetailsActivitiesWeekView - Regress√£o: Bug de DOM Zumbi
    Cen√°rio Cr√≠tico: M√∫ltiplas Renderiza√ß√µes (Skeleton ‚Üí Dados)
      ‚àö BLINDAGEM: Deve renderizar atividades corretamente mesmo ap√≥s re-renderiza√ß√£o da view (108 ms)
      ‚àö BLINDAGEM: Container do ActivityRenderer deve sempre ser o elemento VIS√çVEL (13 ms)
    Cen√°rio: View com Dados Desde o In√≠cio
      ‚àö Deve renderizar atividades corretamente quando dados j√° existem (18 ms)
    Cen√°rio: Navega√ß√£o Entre Semanas (M√∫ltiplas setWeek)
      ‚àö BLINDAGEM: Deve atualizar corretamente ao navegar entre semanas diferentes (20 ms)
    Cen√°rio: Estado de Erro
      ‚àö Deve renderizar estado de erro corretamente no elemento atual (36 ms)

PASS features/courses/tests/integration/TaskManagementFlow.test.js
  Integration: Task Management Flow
    ‚àö should display tasks preview when "Tarefas" button is clicked (137 ms)
    ‚àö should show error toast if scraping fails (88 ms)

PASS features/courses/tests/views/CourseWeeksView/preview.test.js
  CourseWeeksView - Preview de Semanas
    showPreview
      ‚àö deve mostrar o preview legado quando o bot√£o de tarefas da semana √© clicado (126 ms)
      ‚àö deve mostrar o preview din√¢mico quando o elemento da semana √© fornecido (17 ms)
      ‚àö deve renderizar os √≠cones de status corretamente no preview (8 ms)
      ‚àö deve calcular o progresso corretamente no preview (8 ms)
      ‚àö deve lidar com erros de coleta graciosamente no preview (79 ms)
      ‚àö deve esconder o preview din√¢mico quando hidePreview √© chamado (9 ms)
      ‚àö deve esconder o preview legado quando hidePreview √© chamado (2 ms)

PASS features/courses/tests/integration/scrapeCourse.integration.test.js
  Integra√ß√£o: Fluxo de Coleta de Curso
    ‚àö deve coletar dados da aba atual e salvar o curso (237 ms)
    ‚àö deve lidar graciosamente com falha na coleta (fallback) (134 ms)
    ‚àö deve coletar curso com "Revis√£o" e ordenar corretamente (137 ms)

  console.info
    [UserPreferencesManager] User preferences saved: { density: 'comfortable', autoPinLastWeek: true, lastWeekNumber: null }

      at Logger.info (shared/utils/Logger.js:72:15)

  console.error
    [WeeksManager] Erro ao carregar preview: Error: Scraping failed
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\logic\ErrorHandling.test.js:27:9)
        at Promise.finally.completed (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at _runTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:497:12)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at WeeksManager.error [as showPreview] (features/courses/views/CourseWeeksView/WeeksManager.js:215:14)

  console.info
    [UserPreferencesManager] User preferences saved: { density: 'comfortable', autoPinLastWeek: true, lastWeekNumber: 7 }

      at Logger.info (shared/utils/Logger.js:72:15)

PASS features/courses/tests/integration/addCourse.integration.test.js
  Integra√ß√£o: Fluxo Manual de Adi√ß√£o de Curso
    ‚àö Deve adicionar um curso manualmente e exibi-lo na lista (325 ms)

PASS features/courses/tests/logic/ErrorHandling.test.js
  Integra√ß√£o de Tratamento de Erros
    CourseWeeksView
      ‚àö deve exibir toast de erro quando falhar o scraping do preview (92 ms)
    CourseWeekTasksView
      ‚àö deve lidar com erros graciosamente (2 ms)

PASS features/settings/tests/UserPreferences.test.js
  User Preferences (ISSUE-022)
    Auto-Pin Toggle
      ‚àö deve carregar prefer√™ncia de Auto-Pin salva ao inicializar (10 ms)
      ‚àö deve persistir prefer√™ncia de Auto-Pin no storage ao alterar (74 ms)
      ‚àö deve preservar lastWeekNumber ao alterar toggle de Auto-Pin (70 ms)
    Storage Defaults
      ‚àö deve usar valores padr√£o quando storage est√° vazio (3 ms)

PASS shared/ui/tests/Modal.close-button.test.js
  Modal - Bot√£o Fechar (Regression)
    ‚àö deve fechar modal ao clicar no bot√£o √ó (23 ms)
    ‚àö deve executar callback onClose ao fechar (6 ms)
    ‚àö deve fechar modal ao clicar no overlay (fora do card) (4 ms)
    ‚àö N√ÉO deve fechar modal ao clicar dentro do card (5 ms)
    ‚àö deve garantir z-index alto para sobrepor modal nativo do Blackboard (5 ms)

PASS shared/utils/tests/ChunkedStorage.test.js
  ChunkedStorage
    saveChunked
      ‚àö deve salvar dados pequenos sem chunking nem compress√£o (8 ms)
      ‚àö deve comprimir dados grandes sem chunking (1 ms)
      ‚àö deve dividir dados muito grandes em chunks (11 ms)
      ‚àö deve comprimir E dividir em chunks dados muito grandes (2 ms)
      ‚àö deve lan√ßar erro se chrome.storage.set falhar (32 ms)
    loadChunked
      ‚àö deve carregar dados simples (n√£o chunked, n√£o compressed) (2 ms)
      ‚àö deve descomprimir dados comprimidos (n√£o chunked) (1 ms)
      ‚àö deve recompor dados de m√∫ltiplos chunks (1 ms)
      ‚àö deve recompor e descomprimir chunks comprimidos (1 ms)
      ‚àö deve retornar null se chave n√£o existir (1 ms)
      ‚àö deve retornar null e logar erro se carregar falhar (1 ms)
      ‚àö deve lidar com chunks corrompidos/faltando retornando dados parciais (2 ms)
    deleteChunked
      ‚àö deve deletar item simples (n√£o chunked) (3 ms)
      ‚àö deve deletar metadados e todos os chunks (2 ms)
      ‚àö deve retornar silenciosamente se item n√£o existir (1 ms)
      ‚àö deve logar erro mas n√£o lan√ßar se deletar falhar (2 ms)
    CHUNK_SIZE constante
      ‚àö deve ter CHUNK_SIZE definido como 7168 bytes (7KB) (2 ms)

  console.info
    [DetailsActivitiesWeekView] üñ±Ô∏è Clique em "Ir" para Atividade: activity-123 {
      course: 'unknown',
      week: 'Semana 1',
      weekUrl: 'http://ava.univesp.br/semana1',
      activityId: 'activity-123',
      fallbackUrl: 'http://fallback.com'
    }

      at Logger.info (shared/utils/Logger.js:72:15)

  console.info
    [DetailsActivitiesWeekView] üñ±Ô∏è Clique em "Ir" para Atividade: activity-123 {
      course: 'unknown',
      week: 'Semana X',
      weekUrl: 'missing',
      activityId: 'activity-123',
      fallbackUrl: 'http://fallback.com'
    }

      at Logger.info (shared/utils/Logger.js:72:15)

  console.warn
    [DetailsActivitiesWeekView] URL da semana ausente, usando fallback direto. { fallbackUrl: 'http://fallback.com' }

      87 |     if (data !== null && data !== undefined) {
      88 |       /**#LOG_SYSTEM*/
    > 89 |       console.warn(prefix, message, data);
         |               ^
      90 |     } else {
      91 |       /**#LOG_SYSTEM*/
      92 |       console.warn(prefix, message);

      at Logger.warn (shared/utils/Logger.js:89:15)
      at DetailsActivitiesWeekView.warn [as scrollToActivity] (features/courses/views/DetailsActivitiesWeekView/index.js:245:16)
      at Object.scrollToActivity (features/courses/tests/views/DetailsActivitiesWeekView.test.js:96:18)

PASS features/home/tests/HomeView.test.js
  HomeView - Renderiza√ß√£o
    ‚àö Deve renderizar a view com a classe CSS de dashboard principal (14 ms)
    ‚àö Deve conter a se√ß√£o de acesso r√°pido aos servi√ßos Univesp (20 ms)
    ‚àö Deve renderizar exatamente os 4 cart√µes de links principais (9 ms)
    ‚àö Deve conter link funcional e rotulado para o Portal SEI (9 ms)
    ‚àö Deve conter link funcional e rotulado para o AVA (Blackboard) (7 ms)
    ‚àö Deve conter link funcional para a √Årea do Aluno (6 ms)
    ‚àö Deve conter link funcional para o Sistema de Provas (9 ms)
    ‚àö Deve conter rodap√© identificando o desenvolvedor Gerson Santiago (5 ms)
    ‚àö afterRender deve ser executado no ciclo de vida sem erros (7 ms)
    ‚àö Links inteligentes devem possuir atributos de comportamento (js-smart-link e data-match-pattern) (7 ms)

  console.error
    [CourseStorage] Erro na migra√ß√£o: TypeError: callback is not a function
        at Object.callback (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\integration\navigation.integration.test.js:20:7)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as get] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:62:19)
        at CourseStorage.get [as migrateLegacyData] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:126:48)
        at CourseStorage.migrateLegacyData [as getAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:27)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CoursesView.loadCourses (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\views\CoursesView\index.js:102:21)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as migrateLegacyData] (features/courses/repositories/CourseStorage.js:150:14)
      at CourseStorage.migrateLegacyData [as getAll] (features/courses/repositories/CourseStorage.js:30:27)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CoursesView.loadCourses (features/courses/views/CoursesView/index.js:102:21)

  console.error
    [CourseStorage] Erro na migra√ß√£o: TypeError: callback is not a function
        at Object.callback (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\integration\navigation.integration.test.js:20:7)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as get] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-mock\build\index.js:62:19)
        at CourseStorage.get [as migrateLegacyData] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:126:48)
        at CourseStorage.migrateLegacyData [as getAll] (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js:30:27)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at CourseRepository.loadItems (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js:22:23)
        at CoursesView.loadCourses (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\views\CoursesView\index.js:102:21)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at CourseStorage.error [as migrateLegacyData] (features/courses/repositories/CourseStorage.js:150:14)
      at CourseStorage.migrateLegacyData [as getAll] (features/courses/repositories/CourseStorage.js:30:27)
      at CourseRepository.loadItems (features/courses/repositories/CourseRepository.js:22:23)
      at CoursesView.loadCourses (features/courses/views/CoursesView/index.js:102:21)

PASS features/settings/tests/integration/events-manual.integration.test.js
  Integra√ß√£o: Eventos de Settings (Adicionar Manual)
    ‚àö Deve emitir evento request:add-manual-course quando bot√£o de Adicionar Manual for clicado (93 ms)

PASS features/courses/views/DetailsActivitiesWeekView/handlers/tests/ClearHandler.test.js
  ClearHandler
    ‚àö deve cancelar a a√ß√£o se o usu√°rio n√£o confirmar (5 ms)
    ‚àö deve limpar o cache e voltar se o usu√°rio confirmar (6 ms)
    ‚àö deve lidar com erros ao limpar cache (1 ms)
    ‚àö n√£o deve fazer nada se a semana n√£o for fornecida

PASS features/courses/tests/views/DetailsActivitiesWeekView.test.js
  DetailsActivitiesWeekView
    setWeek
      ‚àö deve definir a semana corretamente (4 ms)
    render
      ‚àö deve renderizar estrutura b√°sica (20 ms)
      ‚àö deve exibir nome da semana no t√≠tulo (4 ms)
    scrollToActivity
      ‚àö deve chamar NavigationService.openActivity com URL da semana (19 ms)
      ‚àö deve chamar NavigationService.openCourse (fallback) se n√£o houver URL da semana (5 ms)

  console.error
    [WeeksManager] Erro ao carregar preview: Error: Falha na coleta
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\views\CourseWeeksView\rendering.test.js:89:14)
        at Promise.finally.completed (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at _runTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:497:12)

      104 |     if (error !== null && error !== undefined) {
      105 |       /**#LOG_SYSTEM*/
    > 106 |       console.error(prefix, message, error);
          |               ^
      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
      109 |       console.error(prefix, message);

      at Logger.error (shared/utils/Logger.js:106:15)
      at WeeksManager.error [as showPreview] (features/courses/views/CourseWeeksView/WeeksManager.js:215:14)

PASS features/courses/tests/views/CourseWeeksView/progress.test.js
  CourseWeeksView - C√°lculo de Progresso
    calculateProgress
      ‚àö deve retornar 0% para lista de itens vazia (6 ms)
      ‚àö deve retornar 100% quando todos os itens est√£o CONCLU√çDOS (5 ms)
      ‚àö deve retornar 0% quando todos os itens est√£o A FAZER (1 ms)
      ‚àö deve lidar com itens sem status (considerar A FAZER por padr√£o) (1 ms)
    renderStatusIcons
      ‚àö deve renderizar os √≠cones corretos para cada status (1 ms)
      ‚àö deve retornar string vazia para lista de itens vazia (1 ms)

PASS features/courses/tests/integration/navigation.integration.test.js
  Integra√ß√£o: Fluxo de Navega√ß√£o
    ‚àö Deve navegar entre abas usando o TopNav (196 ms)
    ‚àö Deve lidar com navega√ß√£o program√°tica (22 ms)

PASS features/courses/tests/views/CourseWeeksView/rendering.test.js
  CourseWeeksView - Comportamento de Preview Din√¢mico
    ‚àö deve alternar a exibi√ß√£o do preview ao clicar na mesma semana duas vezes (toggle) (79 ms)
    ‚àö deve remover o preview anterior ao trocar de semana clicada (13 ms)
    ‚àö deve limpar o estado ativo caso ocorra erro na coleta de atividades (22 ms)

PASS tests/architecture/broken-links.test.js
  Integridade Arquitetural: Links e Refer√™ncias
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\jest.setup.js deve ter imports v√°lidos (3 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\jest.config.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\types\UserPreferences.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\tests\xss-penetration.test.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\tests\privacy.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\tests\csp.test.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\tests\unit\shared\utils\DOMSafe.test.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\tests\unit\shared\services\BackupService.security.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\tests\unit\shared\services\BackupService.functional.test.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\tests\architecture\orphan-code.test.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\tests\architecture\broken-links.test.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\sidepanel\sidepanel.js deve ter imports v√°lidos (7 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\Tabs.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\StorageGuard.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\settings.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\Logger.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ErrorHandler.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\DomUtils.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\DOMSafe.js deve ter imports v√°lidos (3 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\CompressionUtils.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\ChunkedStorage.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\BrowserUtils.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\tests\Tabs.test.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\tests\Logger.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\tests\DomUtils.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\tests\CompressionUtils.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\utils\tests\ChunkedStorage.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\ui\SkeletonLoader.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\ui\Modal.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\ui\ContextualChips.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\ui\ActionMenu.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\ui\tests\Modal.test.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\ui\tests\Modal.close-button.test.js deve ter imports v√°lidos (5 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\ui\tests\ContextualChips.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\ui\tests\ActionMenu.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\ui\tests\security\ModalXSS.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\ui\layout\TopNav.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\ui\layout\MainLayout.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\ui\feedback\Toaster.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\types\security.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\tests\DOMSafeRuntime.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\services\NavigationService.js deve ter imports v√°lidos (3 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\services\BackupService.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\services\tests\NavigationService.test.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\security\TrustedTypesPolicy.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\security\tests\TrustedTypesPolicy.test.js deve ter imports v√°lidos (3 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\models\ActionMenu.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\logic\AutoScroll.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\logic\tests\AutoScroll.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\shared\constants\AppLinks.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\scripts\save-coverage.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\scripts\build-dist.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\popup\popup.js deve ter imports v√°lidos (4 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\settings\ui\SettingsView.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\settings\ui\components\ConfigForm.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\settings\tests\UserPreferences.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\settings\tests\settings.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\settings\tests\domainManager.test.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\settings\tests\ConfigFormDefaults.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\settings\tests\BackupService.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\settings\tests\integration\events-scrape.integration.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\settings\tests\integration\events-manual.integration.test.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\settings\tests\integration\events-clear.integration.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\settings\tests\integration\configForm.integration.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\settings\services\BackupService.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\settings\logic\UserPreferencesManager.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\settings\logic\UISettingsManager.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\settings\logic\SettingsController.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\settings\logic\EmailDomainValidator.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\settings\logic\ChipsSettingsManager.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\session\tests\SessionManager.test.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\session\tests\scripts\SeiLoginContentScript.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\session\scripts\SeiLoginContentScript.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\session\models\Session.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\session\logic\SessionManager.js deve ter imports v√°lidos (3 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\session\components\LoginWaitModal.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\home\ui\HomeView.js deve ter imports v√°lidos (3 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\home\tests\HomeView.test.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\feedback\ui\FeedbackView.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\feedback\tests\FeedbackView.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\views\DetailsActivitiesWeekView\ViewTemplate.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\views\DetailsActivitiesWeekView\SkeletonManager.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\views\DetailsActivitiesWeekView\index.js deve ter imports v√°lidos (5 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\views\DetailsActivitiesWeekView\HeaderManager.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\views\DetailsActivitiesWeekView\ChipsManager.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\views\DetailsActivitiesWeekView\ActivityRenderer.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\views\DetailsActivitiesWeekView\ActivityItemFactory.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\views\DetailsActivitiesWeekView\handlers\RefreshHandler.js deve ter imports v√°lidos (5 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\views\DetailsActivitiesWeekView\handlers\ClearHandler.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\views\DetailsActivitiesWeekView\handlers\tests\RefreshHandler.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\views\DetailsActivitiesWeekView\handlers\tests\ClearHandler.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\views\CourseWeekTasksView\index.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\views\CourseWeeksView\WeeksManager.js deve ter imports v√°lidos (4 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\views\CourseWeeksView\ViewTemplate.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\views\CourseWeeksView\PreviewManager.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\views\CourseWeeksView\index.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\views\CourseWeeksView\HeaderManager.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\views\CoursesView\index.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\WeekActivitiesCache.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\views\DetailsActivitiesWeekView.test.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\views\CourseWeekTasksView.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\views\DetailsActivitiesWeekView\rendering-regression.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\views\CourseWeeksView\rendering.test.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\views\CourseWeeksView\progress.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\views\CourseWeeksView\preview.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\views\CourseWeeksView\header.test.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\services\WeekContentScraper.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\services\ScraperService.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\services\HistoryService.test.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\services\AutoScrollService.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\services\WeekContentScraper\strategies\DefaultStrategy.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\services\WeekActivitiesService\WeekActivitiesService.regression.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\services\WeekActivitiesService\service.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\services\QuickLinksScraper\scraping.test.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\services\QuickLinksScraper\QuickLinksScraper.race-condition.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\services\QuickLinksScraper\extraction.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\security\ActivityXSS.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\ActivityProgressRepository.test.js deve ter imports v√°lidos (4 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\update_delete.test.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\save.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\load.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\repositories\CourseRepository\add.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\models\Week.test.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\models\ActivityProgress.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\logic\WeekOrdering.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\logic\TermParser.test.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\logic\TaskProgressService.test.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\logic\TaskCategorizer.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\logic\ErrorHandling.test.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\logic\CourseGrouper.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\integration\TaskManagementFlow.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\integration\scrapeCourse.integration.test.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\integration\navigation.integration.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\integration\batchImport.integration.test.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\integration\addCourse.integration.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\concurrency\StorageRace.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\tests\components\WeekItem.test.js deve ter imports v√°lidos (3 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\WeekContentScraper.js deve ter imports v√°lidos (3 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\WeekActivitiesService.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\TaskProgressService.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\ScraperService.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\QuickLinksScraper.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\HistoryService.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\CourseRefresher.js deve ter imports v√°lidos (16 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\WeekContentScraper\StrategyRegistry.js deve ter imports v√°lidos (4 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\WeekContentScraper\strategies\VideoStrategy.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\WeekContentScraper\strategies\UrlStrategy.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\WeekContentScraper\strategies\ResourceStrategy.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\WeekContentScraper\strategies\QuizStrategy.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\WeekContentScraper\strategies\ForumStrategy.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\WeekContentScraper\strategies\DefaultStrategy.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\WeekContentScraper\strategies\ContentStrategy.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\WeekContentScraper\strategies\tests\VideoStrategy.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\tests\WeekContentScraper.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\tests\CourseRefresher.success.integration.test.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\services\tests\CourseRefresher.failure.integration.test.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseStorage.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\CourseRepository.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\ActivityRepository.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\repositories\ActivityProgressRepository.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\models\Week.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\models\Course.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\models\ActivityProgress.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\logic\TermParser.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\logic\TaskCategorizer.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\logic\CourseStructure.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\logic\CourseService.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\logic\CourseGrouper.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\logic\AutoScrollService.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\logic\ActivityFocusService.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\import\tests\BatchScraper_DOM.test.js deve ter imports v√°lidos
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\import\tests\BatchScraper.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\import\tests\BatchImportModal.test.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\import\services\BatchScraper\index.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\import\services\BatchScraper\tests\BatchScraper.test.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\import\logic\BatchImportFlow.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\import\components\BatchImportModal.js deve ter imports v√°lidos (2 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\components\WeekItem.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\components\CourseItem.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\components\AddManualModal\index.js deve ter imports v√°lidos (1 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\background\index.js deve ter imports v√°lidos (3 ms)
    ‚àö JS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\background\tests\background.test.js deve ter imports v√°lidos (2 ms)
    ‚àö CSS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\popup\popup.css deve ter refer√™ncias v√°lidas (1 ms)
    ‚àö CSS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\assets\styles\layout.css deve ter refer√™ncias v√°lidas
    ‚àö CSS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\assets\styles\global.css deve ter refer√™ncias v√°lidas
    ‚àö CSS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\assets\styles\views\week-tasks.css deve ter refer√™ncias v√°lidas (1 ms)
    ‚àö CSS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\assets\styles\views\settings.css deve ter refer√™ncias v√°lidas (1 ms)
    ‚àö CSS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\assets\styles\views\home.css deve ter refer√™ncias v√°lidas
    ‚àö CSS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\assets\styles\views\details-activities.css deve ter refer√™ncias v√°lidas (1 ms)
    ‚àö CSS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\assets\styles\views\courses.css deve ter refer√™ncias v√°lidas
    ‚àö CSS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\assets\styles\components\week-item.css deve ter refer√™ncias v√°lidas
    ‚àö CSS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\assets\styles\components\nav.css deve ter refer√™ncias v√°lidas (1 ms)
    ‚àö CSS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\assets\styles\components\modal.css deve ter refer√™ncias v√°lidas
    ‚àö CSS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\assets\styles\components\grouping.css deve ter refer√™ncias v√°lidas (1 ms)
    ‚àö CSS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\assets\styles\components\dropdown.css deve ter refer√™ncias v√°lidas (1 ms)
    ‚àö CSS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\assets\styles\components\chips.css deve ter refer√™ncias v√°lidas
    ‚àö CSS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\assets\styles\components\card.css deve ter refer√™ncias v√°lidas (1 ms)
    ‚àö CSS: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\assets\styles\components\button.css deve ter refer√™ncias v√°lidas (3 ms)
    ‚àö HTML: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\sidepanel\sidepanel.html deve ter links v√°lidos (9 ms)
    ‚àö HTML: C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\popup\popup.html deve ter links v√°lidos (1 ms)

PASS features/settings/tests/integration/events-clear.integration.test.js
  Integra√ß√£o: Eventos de Settings (Limpar Tudo)
    ‚àö Deve emitir evento request:clear-all-courses quando bot√£o Limpar Tudo for clicado (32 ms)

PASS shared/ui/tests/ActionMenu.test.js
  Componente ActionMenu (Menu de A√ß√µes)
    ‚àö Deve renderizar o bot√£o com √≠cone e t√≠tulo corretos (13 ms)
    ‚àö Deve renderizar o dropdown oculto inicialmente (4 ms)
    ‚àö Deve alternar a visibilidade do dropdown ao clicar (5 ms)
    ‚àö Deve renderizar todas as a√ß√µes (3 ms)
    ‚àö Deve chamar o callback da a√ß√£o e fechar o menu ao clicar no item (4 ms)

PASS features/settings/tests/ConfigFormDefaults.test.js
  ConfigForm - Default Behavior
    ‚àö Deve inicializar campos vazios se storage retornar undefined (15 ms)

PASS shared/utils/tests/Tabs.test.js
  Tabs.openOrSwitchTo
    Regress√£o de Bug: Bot√£o de Abrir Mat√©ria (HomeView)
      ‚àö N√ÉO deve corresponder a uma aba de Semana ao procurar pelo Dashboard do Curso com padr√£o espec√≠fico (6 ms)
      ‚àö deve corresponder corretamente a uma aba existente do Dashboard do Curso (2 ms)
    Regress√£o de Bug: Navega√ß√£o Entre Mat√©rias (L√≥gica Tabs.js)
      ‚àö N√ÉO deve reutilizar aba da Mat√©ria A ao abrir a Mat√©ria B (Check de Seguran√ßa) (1 ms)
      ‚àö deve abrir NOVA aba para o mesmo curso mas conte√∫do diferente (1 ms)
    Verifica√ß√£o de Checklist Detalhada
      ‚àö C2. Preven√ß√£o de Loop: N√ÉO deve recarregar se a URL for id√™ntica (apenas focar) (1 ms)
      ‚àö B1. Resili√™ncia: Deve criar NOVA aba se a aba do AVA foi fechada manualmente (ID n√£o encontrado) (1 ms)
      ‚àö B2. Entre-Semanas: Deve abrir NOVA aba ao navegar Semana 1 -> Semana 2
      ‚àö A2. Deep Link: Deve criar nova aba quando o hash muda (conte√∫do diferente)

  console.warn
    Arquivos √ìrf√£os Encontrados: [
      'jsconfig.json',
      'jest.setup.js',
      'sidepanel\\sidepanel.js',
      'scripts\\save-coverage.js',
      'scripts\\build-dist.js',
      'popup\\popup.js',
      'popup\\popup.html',
      'popup\\popup.css',
      'assets\\logo_univesp.png',
      'assets\\styles\\components\\week-item.css'
    ]

      154 |
      155 |         if (realOrphans.length > 0) {
    > 156 |             console.warn('Arquivos √ìrf√£os Encontrados:', realOrphans.map(f => path.relative(projectRoot, f)));
          |                     ^
      157 |         }
      158 |
      159 |         // Opcional: Falhar o teste. Por enquanto, s√≥ aviso para n√£o bloquear CI se houver falso positivo.

      at Object.warn (tests/architecture/orphan-code.test.js:156:21)

PASS shared/utils/tests/CompressionUtils.test.js
  CompressionUtils
    getByteSize
      ‚àö deve retornar o tamanho correto em bytes para strings simples (8 ms)
      ‚àö deve retornar o tamanho correto para caracteres especiais/emojis (4 ms)
    needsCompression
      ‚àö deve retornar false para strings menores que 6KB (1 ms)
      ‚àö deve retornar true para strings maiores que 6144 bytes (2 ms)
    compress e decompress
      ‚àö deve comprimir e descomprimir dados quando as APIs est√£o dispon√≠veis (9 ms)
      ‚àö deve retornar a string original se CompressionStream n√£o estiver dispon√≠vel (fallback) (4 ms)
      ‚àö deve retornar a string comprimida original se DecompressionStream falhar (fallback) (1 ms)

PASS features/feedback/tests/FeedbackView.test.js
  FeedbackView - Renderiza√ß√£o
    ‚àö Deve renderizar a view com classe correta (10 ms)
    ‚àö Deve conter header com bot√£o voltar (26 ms)
    ‚àö Deve conter t√≠tulo "Feedback" (5 ms)
    ‚àö Deve renderizar iframe com URL do Google Forms (5 ms)
    ‚àö Iframe deve ter atributos de acessibilidade corretos (4 ms)
    ‚àö Bot√£o voltar deve chamar callback onBack quando clicado (21 ms)
    ‚àö afterRender deve funcionar mesmo sem callback onBack (falha silenciosa/defensiva) (18 ms)
    ‚àö Deve ter layout flex√≠vel para acomodar iframe (4 ms)

PASS features/courses/tests/services/WeekActivitiesService/WeekActivitiesService.regression.test.js
  WeekActivitiesService - Regress√£o: Bug de Sincroniza√ß√£o de Navega√ß√£o
    Cen√°rio: Semana 2 aberta, usu√°rio clica em Ver Atividades da Semana 3
      ‚àö deve abrir/navegar para Semana 3 ANTES de fazer scraping (520 ms)
      ‚àö deve aguardar carregamento da aba se status for "loading" (613 ms)
      ‚àö deve lan√ßar erro se falhar ao abrir aba (2 ms)
      ‚àö deve funcionar com m√©todo QuickLinks tamb√©m (521 ms)
    Cen√°rio: Cache j√° existe (n√£o deve reabrir aba)
      ‚àö deve usar cache se items j√° existem e m√©todo √© o mesmo (sem reabrir aba) (1 ms)

PASS tests/architecture/orphan-code.test.js
  Integridade Arquitetural: C√≥digo Morto (Arquivos √ìrf√£os)
    ‚àö N√£o deve haver arquivos √≥rf√£os (c√≥digo morto) (54 ms)

PASS features/courses/tests/integration/batchImport.integration.test.js
  Integra√ß√£o: Fluxo de Importa√ß√£o em Lote
    ‚àö Deve abrir BatchImportModal diretamente se a aba do curso no AVA for encontrada (8 ms)
    ‚àö Deve abrir LoginWaitModal se a aba do AVA for encontrada mas N√ÉO estiver na p√°gina de cursos (2 ms)
    ‚àö Deve criar nova aba e abrir LoginWaitModal se nenhuma aba do AVA for encontrada (2 ms)

PASS features/courses/tests/views/CourseWeeksView/header.test.js
  HeaderManager (Gerente de Cabe√ßalho)
    ‚àö deve chamar onBack quando o bot√£o de voltar √© clicado (14 ms)
    ‚àö deve chamar onOpenCourse com a URL do curso quando o bot√£o de abrir mat√©ria √© clicado (6 ms)
    ‚àö deve atualizar o curso quando o bot√£o de atualizar semanas √© clicado (5 ms)
    ‚àö deve lidar com falha na atualiza√ß√£o graciosamente (4 ms)
    ‚àö deve verificar se o callback √© uma fun√ß√£o antes de chamar (defensivo) (7 ms)

PASS features/courses/tests/WeekActivitiesCache.test.js
  WeekActivitiesService - Cache Logic
    ‚àö Deve priorizar cache de mem√≥ria se dispon√≠vel e m√©todo for compat√≠vel (5 ms)
    ‚àö Deve priorizar cache persistente se dispon√≠vel e compat√≠vel (3 ms)
    ‚àö Deve extrair contentId da URL se n√£o estiver no objeto week (2 ms)

PASS tests/unit/shared/utils/DOMSafe.test.js
  DOMSafe
    escapeHTML
      ‚àö deve escapar caracteres especiais HTML (4 ms)
      ‚àö deve retornar string vazia para inputs n√£o string (1 ms)
    createElement
      ‚àö deve criar um elemento com tag especificada (2 ms)
      ‚àö deve aplicar atributos corretamente (3 ms)
      ‚àö deve lidar com atributo dataset como objeto (3 ms)
      ‚àö deve adicionar listeners de eventos (4 ms)
      ‚àö deve adicionar filhos de texto (3 ms)
      ‚àö deve adicionar filhos HTMLElement (2 ms)
      ‚àö deve lidar com array de filhos mistos (3 ms)
      ‚àö deve ignorar atributos nulos ou falsos (2 ms)

PASS shared/security/tests/TrustedTypesPolicy.test.js
  TrustedTypesPolicy
    initTrustedTypes
      ‚àö deve criar policy com sucesso quando trustedTypes API est√° dispon√≠vel (18 ms)
      ‚àö deve avisar quando trustedTypes API n√£o est√° suportada (4 ms)
      ‚àö deve avisar quando cria√ß√£o da policy falha (3 ms)
    createHTML
      ‚àö deve bloquear e lan√ßar erro para qualquer HTML (34 ms)
      ‚àö deve bloquear string vazia tamb√©m (5 ms)
    createScriptURL
      ‚àö deve permitir URLs da pr√≥pria extens√£o (chrome.runtime.getURL) (4 ms)
      ‚àö deve bloquear URLs externas (4 ms)
      ‚àö deve bloquear URLs relativas n√£o confi√°veis (5 ms)
      ‚àö deve bloquear data: URLs (5 ms)
    createScript
      ‚àö deve sempre bloquear inline scripts (5 ms)
      ‚àö deve bloquear string vazia tamb√©m (6 ms)
    getTrustedTypesPolicy
      ‚àö deve retornar null antes de initTrustedTypes ser chamado (4 ms)
      ‚àö deve retornar a policy ap√≥s initTrustedTypes (4 ms)
      ‚àö deve retornar null se trustedTypes API n√£o √© suportada (4 ms)
    Contexto de execu√ß√£o (self vs window)
      ‚àö deve funcionar em Service Workers (global self) (4 ms)

PASS features/courses/tests/components/WeekItem.test.js
  WeekItem com bot√£o de Tarefas
    ‚àö deve renderizar bot√£o de tarefas (10 ms)
    ‚àö deve chamar onViewTasks quando bot√£o clicado (6 ms)
    ‚àö deve parar propaga√ß√£o no clique do bot√£o (n√£o acionar div onClick) (4 ms)
    ‚àö deve renderizar bot√µes entre nome e seta (7 ms)
    ‚àö deve funcionar sem callback onViewTasks (3 ms)

PASS features/courses/tests/security/ActivityXSS.test.js
  Security: ActivityItemFactory XSS Vulnerability Check
    ‚àö üî¥ DEVE FALHAR: Payload XSS n√£o deve ser renderizado no DOM (14 ms)

PASS features/courses/import/tests/BatchImportModal.test.js
  L√≥gica de Renderiza√ß√£o do BatchImportModal
    ‚àö Deve ordenar termos decrescente (mais recente primeiro) e renderizar cursos com checkboxes (19 ms)
    ‚àö Deve lidar graciosamente com termos vazios (2 ms)
  Intera√ß√µes do BatchImportModal
    ‚àö Deve ter um bot√£o de recarregar que dispara loadTerms (26 ms)

PASS features/settings/tests/integration/configForm.integration.test.js
  Integra√ß√£o: Feedback do Formul√°rio de Configura√ß√£o
    ‚àö deve exibir mensagem de sucesso no configFeedback ao salvar (77 ms)

PASS features/courses/tests/repositories/CourseRepository/load.test.js
  CourseRepository - Opera√ß√µes de Carregamento
    loadItems()
      ‚àö deve retornar lista vazia se nenhum curso estiver salvo (6 ms)
      ‚àö deve carregar cursos existentes corretamente (2 ms)
      ‚àö deve garantir que os dados carregados correspondam aos salvos (2 ms)

PASS features/courses/tests/services/QuickLinksScraper/QuickLinksScraper.race-condition.test.js
  QuickLinksScraper - Race Condition
    Timeout e Retry
      ‚àö deve aguardar at√© 20s para modal popular (site lento) (5 ms)
      ‚àö deve retornar array vazio ap√≥s timeout m√°ximo (30s) (2 ms)
    Retry Mechanism
      ‚àö deve tentar reabrir modal se primeira tentativa falhar (1 ms)

PASS shared/utils/tests/DomUtils.test.js
  DomUtils
    ensureModalClosed
      ‚àö deve fechar o modal se o bot√£o de fechar existir (27 ms)
      ‚àö deve retornar false se o bot√£o de fechar n√£o existir (3 ms)
      ‚àö deve usar document por padr√£o se nenhum dom for passado (8 ms)

PASS features/courses/import/services/BatchScraper/tests/BatchScraper.test.js
  BatchScraper Logic
    parseCourseTerm
      ‚àö deve parsear corretamente bimestres do primeiro semestre (8 ms)
      ‚àö deve parsear corretamente bimestres do segundo semestre (B1 -> 3¬∫ Bimestre) (1 ms)
      ‚àö deve retornar "Outros Cursos" para formatos inv√°lidos (1 ms)
    extractWeeksFromHTML
      ‚àö deve extrair semanas e revis√µes corretamente (33 ms)
    DOM_scanTermsAndCourses_Injected
      ‚àö deve retornar mensagem de erro se n√£o estiver na p√°gina correta (59 ms)
      ‚àö deve retornar erro quando n√£o h√° cursos na p√°gina (2560 ms)

PASS shared/ui/tests/ContextualChips.test.js
  ContextualChips
    ‚àö should render chips from data (21 ms)
    ‚àö should emit navigate event on click (12 ms)
    ‚àö should emit remove event on remove button click (4 ms)

PASS features/courses/tests/logic/TaskProgressService.test.js
  TaskProgressService (Servi√ßo de Progresso de Tarefas)
    toggleTask
      ‚àö deve alternar o status da tarefa usando ActivityProgressRepository (7 ms)
      ‚àö deve retornar false ao alternar para pendente (TODO) (1 ms)
    calculateProgress
      ‚àö deve calcular o progresso usando os dados do reposit√≥rio (3 ms)
      ‚àö deve lidar com semanas vazias (1 ms)
      ‚àö deve usar o status do scraping (fallback) se n√£o houver dados no reposit√≥rio (3 ms)
    isTaskCompleted
      ‚àö deve retornar true quando a tarefa estiver conclu√≠da (DONE) (1 ms)
      ‚àö deve retornar false quando a tarefa estiver pendente (TODO) (1 ms)
      ‚àö deve retornar false quando nenhum progresso for encontrado (1 ms)

  console.error
    [BatchScraper] Error: Injection failed
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\import\tests\BatchScraper.test.js:48:9)
        at Promise.finally.completed (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at _runTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:497:12)

      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
    > 109 |       console.error(prefix, message);
          |               ^
      110 |     }
      111 |   }
      112 |

      at Logger.error (shared/utils/Logger.js:109:15)
      at error (features/courses/import/services/BatchScraper/index.js:430:12)
      at Object.<anonymous> (features/courses/import/tests/BatchScraper.test.js:52:22)

  console.error
    [BatchScraper] Error: Fail
        at Object.<anonymous> (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\features\courses\import\tests\BatchScraper.test.js:87:9)
        at Promise.finally.completed (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at _runTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
        at C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at _runTestsForDescribeBlock (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (C:\Users\gerson_6061\Desktop\PROJETOS\extensaoUNIVESP\node_modules\jest-runner\build\testWorker.js:497:12)

      107 |     } else {
      108 |       /**#LOG_SYSTEM*/
    > 109 |       console.error(prefix, message);
          |               ^
      110 |     }
      111 |   }
      112 |

      at Logger.error (shared/utils/Logger.js:109:15)
      at error (features/courses/import/services/BatchScraper/index.js:445:12)
      at Object.<anonymous> (features/courses/import/tests/BatchScraper.test.js:91:22)

PASS features/settings/tests/integration/events-scrape.integration.test.js
  Integra√ß√£o: Eventos de Settings (Scrape)
    ‚àö Deve emitir evento request:scrape-current-tab quando bot√£o Scrape for clicado (108 ms)

PASS shared/ui/tests/Modal.test.js
  Componente Modal
    ‚àö deve renderizar o modal corretamente (27 ms)
    ‚àö deve remover modal existente com mesmo id antes de renderizar (10 ms)
    ‚àö deve fechar o modal quando close() for chamado (4 ms)
    ‚àö deve fechar o modal ao clicar no bot√£o de fechar (4 ms)
    ‚àö deve fechar o modal ao clicar no overlay (8 ms)
    ‚àö N√ÉO deve fechar o modal ao clicar dentro do card (9 ms)
    ‚àö deve executar onCloseCallback quando fechado (5 ms)

PASS features/courses/tests/services/WeekContentScraper/strategies/DefaultStrategy.test.js
  DefaultStrategy
    extract
      ‚àö deve extrair contentId corretamente do elemento LI (34 ms)
      ‚àö deve ignorar link "Marca Revista" e priorizar Iframe (11 ms)
      ‚àö deve limpar nome ignorando span .reorder (O Ouro) (4 ms)
      ‚àö deve retornar null se apenas links javascript estiverem presentes (4 ms)

PASS features/session/tests/SessionManager.test.js
  SessionManager (Gerenciador de Sess√£o - RaManager)
    getRaFromEmail
      ‚àö deve extrair o RA do e-mail corretamente (5 ms)
      ‚àö deve retornar inalterado se n√£o houver @ (1 ms)
      ‚àö deve retornar string vazia para null ou undefined (1 ms)
    prepareCredentials
      ‚àö deve retornar objeto v√°lido para entrada correta (4 ms)
      ‚àö deve retornar erro se o RA estiver vazio (1 ms)
      ‚àö deve limpar (trim) as entradas e sanitizar dom√≠nio (1 ms)

PASS features/courses/import/tests/BatchScraper.test.js
  L√≥gica - Batch Scraper
    scrapeAvailableTerms
      ‚àö Deve retornar termos agrupados corretamente por Display ID (6 ms)
      ‚àö Deve lidar com falha no script (56 ms)
    processSelectedCourses
      ‚àö Deve processar cursos selecionados (Deep Scraping) (2 ms)
      ‚àö Deve retornar array vazio em caso de erro (4 ms)

PASS features/courses/tests/logic/TermParser.test.js
  Utilit√°rio termParser
    ‚àö Deve interpretar formato padr√£o "2025/2 - 4¬∫ Bimestre" (4 ms)
    ‚àö Deve interpretar formato tipo ID "2026S1B2" dentro de uma string (1 ms)
    ‚àö Deve retornar padr√µes para formato desconhecido (1 ms)
    ‚àö Deve lidar com entrada de objeto (1 ms)
    ‚àö Deve priorizar propriedade termName se presente (1 ms)

PASS features/courses/tests/services/QuickLinksScraper/extraction.test.js
  QuickLinksScraper - Extra√ß√£o
    extractFromModal
      ‚àö deve extrair itens do DOM do modal de links r√°pidos corretamente (29 ms)
      ‚àö deve lidar graciosamente com modal vazio (4 ms)
      ‚àö deve limpar espa√ßos em branco dos nomes dos itens (4 ms)
      ‚àö deve extrair o ID do atributo onclick (5 ms)
      ‚àö deve lidar graciosamente com links sem onclick (3 ms)
      ‚àö deve definir o tipo padr√£o como "document" (3 ms)

PASS features/courses/tests/views/CourseWeekTasksView.test.js
  CourseWeekTasksView
    Renderiza√ß√£o
      ‚àö deve renderizar os itens corretamente (81 ms)
      ‚àö deve calcular e exibir o progresso via Servi√ßo (6 ms)
    Intera√ß√£o
      ‚àö deve chamar Service.toggleTask ao clicar em uma tarefa (36 ms)
      ‚àö deve re-renderizar o progresso ap√≥s alternar uma tarefa (25 ms)

PASS shared/ui/tests/security/ModalXSS.test.js
  Security: Modal XSS Vulnerability Check
    ‚àö üî¥ DEVE FALHAR: T√≠tulo do Modal n√£o pode interpretar HTML (25 ms)
    ‚àö üî¥ DEVE FALHAR: Conte√∫do do Modal deve ser sanitizado se inserido via HTML (7 ms)

PASS features/courses/views/DetailsActivitiesWeekView/handlers/tests/RefreshHandler.test.js
  RefreshHandler
    ‚àö deve atualizar a lista com sucesso (11 ms)
    ‚àö deve lidar com erros durante a atualiza√ß√£o (4 ms)
    ‚àö n√£o deve fazer nada se a semana n√£o for fornecida (1 ms)

PASS shared/logic/tests/AutoScroll.test.js
  L√≥gica de AutoScroll
    ‚àö deve iniciar o scroll e chamar scrollTo (5 ms)
    ‚àö deve parar o scroll quando atingir o final (altura n√£o muda) (2 ms)
    ‚àö deve continuar o scroll se a altura aumentar (2 ms)
    ‚àö deve permitir parada manual (1 ms)

PASS features/courses/import/tests/BatchScraper_DOM.test.js
  L√≥gica DOM do BatchScraper
    ‚àö Deve retornar erro se n√£o estiver logado ou na p√°gina errada (10 ms)
    ‚àö Deve tentar realizar auto-scroll (9 ms)
    ‚àö Deve extrair cursos corretamente do DOM (21 ms)

PASS features/courses/tests/repositories/CourseRepository/save.test.js
  CourseRepository - Opera√ß√µes de Salvamento
    saveItems()
      ‚àö deve salvar a lista de cursos no storage corretamente (9 ms)
      ‚àö deve executar o callback ap√≥s o salvamento (4 ms)
      ‚àö deve funcionar corretamente mesmo sem passar callback (1 ms)

PASS tests/privacy.test.js
  Auditoria de Privacidade e Seguran√ßa (Deep Scan)
    ‚àö ZERO BACKEND: N√£o deve haver chamadas para dom√≠nios externos n√£o autorizados (Firebase, Analytics, etc) (7 ms)
    ‚àö SEGURAN√áA ARQUITETURAL: Prefer√™ncia por chrome.storage sobre localStorage (3 ms)
    ‚àö PRIVACIDADE: N√£o deve haver envio de dados via fetch para IPs ou dom√≠nios desconhecidos (2 ms)

PASS tests/unit/shared/services/BackupService.functional.test.js
  BackupService (Functional)
    exportData
      ‚àö should export all data with metadata (7 ms)
    importData (Functional)
      ‚àö should successfully import valid data (2 ms)
      ‚àö should reject invalid json string (2 ms)
      ‚àö should reject missing data key (1 ms)

PASS features/courses/tests/services/AutoScrollService.test.js
  AutoScrollService - L√≥gica Injetada
    ‚àö deve iniciar o scroll e chamar scrollBy (24 ms)
    ‚àö deve parar se j√° estiver rodando (8 ms)
    ‚àö deve continuar rolando (scrolling) se a altura da p√°gina aumentar (7 ms)
    ‚àö deve parar ap√≥s atingir o n√∫mero m√°ximo de tentativas (MAX_RETRIES) se a altura n√£o mudar (8 ms)

PASS features/settings/tests/domainManager.test.js
  DomainManager
    getCurrentDomain
      ‚àö deve retornar o dom√≠nio personalizado se fornecido (10 ms)
      ‚àö deve extrair o dom√≠nio do e-mail se nenhum dom√≠nio personalizado for fornecido (1 ms)
      ‚àö deve retornar o dom√≠nio padr√£o se nada for fornecido (1 ms)
    getDefaultDomain
      ‚àö deve retornar o dom√≠nio padr√£o constante

PASS features/courses/tests/logic/WeekOrdering.test.js
  ScraperService - L√≥gica de Semanas
    Extra√ß√£o via DOM (extractWeeksFromDoc)
      ‚àö deve capturar semanas num√©ricas e tamb√©m a "Semana de Revis√£o" (22 ms)
    Ordena√ß√£o de Semanas
      ‚àö deve ordenar semanas numericamente e colocar "Revis√£o" ao final (4 ms)
      ‚àö deve manter "Revis√£o" sempre ao final mesmo em diferentes ordens (2 ms)

PASS features/courses/tests/logic/CourseGrouper.test.js
  Utilit√°rio CourseGrouper
    ‚àö Deve agrupar cursos por per√≠odo letivo e ordenar grupos decrescente (6 ms)
    ‚àö Deve lidar com lista vazia (2 ms)

PASS tests/unit/shared/services/BackupService.security.test.js
  BackupService (Security)
    importData (Integrity Check)
      ‚àö should fail if checksum is missing (5 ms)
      ‚àö should fail if checksum does not match (Tampered Data) (1 ms)

PASS features/session/tests/scripts/SeiLoginContentScript.test.js
  SeiLoginContentScript
    ‚àö deve preencher o email se estiver salvo no storage (8 ms)
    ‚àö n√£o deve preencher se o campo j√° tiver valor (2 ms)

PASS shared/utils/tests/Logger.test.js
  Logger
    isEnabled
      ‚àö deve retornar true quando UNIVESP_DEBUG est√° ativo (5 ms)
      ‚àö deve retornar false quando UNIVESP_DEBUG n√£o est√° ativo (1 ms)
      ‚àö deve retornar false se localStorage lan√ßar erro (1 ms)
    debug
      ‚àö deve logar quando debug est√° habilitado (4 ms)
      ‚àö N√ÉO deve logar quando debug est√° desabilitado (2 ms)
      ‚àö deve logar sem data quando n√£o fornecido (1 ms)
    info
      ‚àö deve sempre logar independente do debug (2 ms)
    warn
      ‚àö deve logar warning (2 ms)
    error
      ‚àö deve logar erro com objeto Error (2 ms)

PASS features/courses/tests/logic/TaskCategorizer.test.js
  TaskCategorizer
    categorizeTask
      ‚àö deve categorizar Videoaula corretamente (4 ms)
      ‚àö deve categorizar Quiz da Videoaula (1 ms)
      ‚àö deve categorizar Video-base (1 ms)
      ‚àö deve categorizar Texto-base (1 ms)
      ‚àö deve categorizar Aprofundando o Tema (1 ms)
      ‚àö deve categorizar Atividade Avaliativa (2 ms)
      ‚àö deve categorizar F√≥rum Tem√°tico (1 ms)
      ‚àö deve categorizar F√≥rum de D√∫vidas (1 ms)
      ‚àö deve categorizar Quiz Objeto Educacional (1 ms)
      ‚àö deve categorizar Material Base/Apoio (1 ms)
      ‚àö deve categorizar V√≠deo-base (Complementar)
      ‚àö deve retornar OUTROS para tarefas n√£o reconhecidas
      ‚àö deve preservar dados originais (2 ms)

PASS features/courses/tests/repositories/ActivityProgressRepository.test.js
  ActivityProgressRepository
    save and get
      ‚àö deve salvar e recuperar progresso (5 ms)
      ‚àö deve retornar null para atividade n√£o existente (1 ms)
    toggle
      ‚àö deve criar e alternar progresso (1 ms)
    delete
      ‚àö deve deletar progresso (1 ms)
    clear
      ‚àö deve limpar todo progresso (1 ms)

PASS features/settings/tests/settings.test.js
  Settings - Formata√ß√£o de Email e Dom√≠nio
    formatEmail()
      ‚àö Deve formatar RA simples com dom√≠nio que j√° tem @ (2 ms)
      ‚àö Deve adicionar @ ao dom√≠nio se n√£o tiver
      ‚àö Deve remover @ do RA se j√° estiver inclu√≠do
      ‚àö Deve fazer trim em RA com espa√ßos (1 ms)
      ‚àö Deve fazer trim no dom√≠nio com espa√ßos (1 ms)
      ‚àö Deve lidar com RA e dom√≠nio ambos precisando de limpeza
    extractRa()
      ‚àö Deve extrair RA de email completo
      ‚àö Deve retornar RA se j√° estiver sem @
      ‚àö Deve retornar string vazia para null
      ‚àö Deve retornar string vazia para undefined (1 ms)
      ‚àö Deve retornar string vazia para string vazia
      ‚àö Deve lidar com m√∫ltiplos @ no email
    resolveDomain()
      ‚àö Deve priorizar customDomain se fornecido (1 ms)
      ‚àö Deve extrair dom√≠nio de userEmail se n√£o h√° customDomain
      ‚àö Deve retornar DEFAULT_DOMAIN se ambos s√£o null
      ‚àö Deve retornar DEFAULT_DOMAIN se userEmail n√£o tem @ (1 ms)
      ‚àö Deve retornar DEFAULT_DOMAIN se userEmail √© string vazia
      ‚àö Deve lidar com m√∫ltiplos @ no userEmail
      ‚àö Deve ignorar userEmail se customDomain est√° presente (1 ms)
    CONSTANTS
      ‚àö Deve ter DEFAULT_DOMAIN definido corretamente
      ‚àö DEFAULT_DOMAIN deve ser uma string (1 ms)
      ‚àö DEFAULT_DOMAIN deve come√ßar com @

PASS features/courses/tests/models/ActivityProgress.test.js
  ActivityProgress Model
    fromScraped
      ‚àö deve criar progresso a partir de status scraped DONE (4 ms)
      ‚àö deve criar progresso a partir de status scraped TODO (1 ms)
      ‚àö deve criar progresso com status DOING (1 ms)
    fromUserToggle
      ‚àö deve criar progresso DONE quando usu√°rio marca como conclu√≠do (1 ms)
      ‚àö deve criar progresso TODO quando usu√°rio desmarca
    isCompleted
      ‚àö deve retornar true para status DONE (1 ms)
      ‚àö deve retornar false para status TODO (1 ms)
      ‚àö deve retornar false para status DOING (1 ms)
      ‚àö deve retornar false para progresso null
      ‚àö deve retornar false para progresso undefined (1 ms)
    generateId
      ‚àö deve gerar ID composto correto (1 ms)
      ‚àö deve gerar ID com caracteres especiais
    STATUS constants
      ‚àö deve ter constantes definidas

PASS features/courses/tests/services/QuickLinksScraper/scraping.test.js
  QuickLinksScraper - Scraping (Coleta)
    scrapeFromQuickLinks
      ‚àö deve lan√ßar erro se tabId n√£o for fornecido (15 ms)
      ‚àö deve executar o script na aba fornecida (4 ms)
      ‚àö deve retornar array vazio se o script retornar null/undefined (1 ms)
      ‚àö deve retornar array vazio se executeScript retornar array vazio (nenhum frame) (1 ms)

PASS features/settings/tests/BackupService.test.js
  BackupService - Schema Validation
    ‚àö Deve importar com sucesso um backup v√°lido (3 ms)
    ‚àö Deve rejeitar JSON inv√°lido (SyntaxError) (11 ms)
    ‚àö Deve rejeitar backup faltando "meta" (1 ms)
    ‚àö Deve rejeitar backup faltando "data" (1 ms)
    ‚àö Deve rejeitar vers√£o inv√°lida (n√£o string) (1 ms)

PASS tests/csp.test.js
  Security: CSP Configuration
    ‚àö should have a strict CSP configuration (2 ms)
    ‚àö should use module type for background service worker (1 ms)

PASS features/courses/tests/models/Week.test.js
  Modelo Week - Suporte a Status
    ‚àö deve suportar propriedade de status nos itens (2 ms)
    ‚àö deve permitir status DOING (1 ms)
    ‚àö deve funcionar sem status (opcional)
    ‚àö deve manter a estrutura existente de Week (1 ms)

PASS features/courses/tests/services/HistoryService.test.js
  HistoryService
    ‚àö deve adicionar itens e manter a ordem LRU (mais recente primeiro) (2 ms)
    ‚àö deve mover item existente para o topo se for adicionado novamente
    ‚àö deve respeitar o limite de maxItems (1 ms)
    ‚àö deve limpar o hist√≥rico (2 ms)

PASS shared/tests/DOMSafeRuntime.test.js
  DOMSafe Runtime Bug Fixes (ISSUE-045)
    ‚àö deve permitir atributos de input range (min, max, step) (3 ms)
    ‚àö deve permitir atributo checked para checkboxes (1 ms)
    ‚àö deve permitir atributo selected para options (1 ms)

PASS features/courses/tests/services/WeekActivitiesService/service.test.js (6.155 s)
  WeekActivitiesService
    getActivities
      ‚àö deve buscar atividades usando WeekContentScraper quando m√©todo for DOM (541 ms)
      ‚àö deve buscar atividades usando QuickLinksScraper quando m√©todo for QuickLinks (519 ms)
      ‚àö deve usar m√©todo DOM por padr√£o se n√£o fornecido (508 ms)
      ‚àö deve retornar itens do cache se m√©todo corresponder e itens existirem (514 ms)
      ‚àö deve buscar NOVAMENTE se o m√©todo mudar de DOM para QuickLinks (1032 ms)
      ‚àö deve retornar erro estruturado quando o scraping falhar (516 ms)

PASS features/courses/services/tests/WeekContentScraper.test.js (10.076 s)
  WeekContentScraper
    Parser Logic (extractItemsFromDOM)
      ‚àö deve extrair itens corretamente de uma fixture HTML completa (71 ms)
      ‚àö deve retornar lista vazia se n√£o encontrar itens compat√≠veis (7 ms)
      ‚àö deve lidar com erros de parsing graciosamente (1 ms)
    Orchestration (scrapeWeekContent)
      ‚àö deve falhar se Chrome API n√£o estiver dispon√≠vel (25 ms)
      ‚àö deve usar ID de aba expl√≠cito se fornecido (1547 ms)
      ‚àö deve descobrir aba automaticamente se ID n√£o fornecido (1534 ms)
      ‚àö deve navegar para aba do curso se match exato da semana n√£o for encontrado (1542 ms)
      ‚àö deve lan√ßar erro se nenhuma aba AVA for encontrada (1 ms)
      ‚àö deve tentar retry se script retornar null (carga lenta) (3038 ms)

-----------------------------------------------------------|---------|----------|---------|---------|---------------------------------------------------------------------------------------------------
File                                                       | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                                                                 
-----------------------------------------------------------|---------|----------|---------|---------|---------------------------------------------------------------------------------------------------
All files                                                  |   85.64 |    82.38 |   81.84 |   85.64 |                                                                                                   
 background                                                |    90.9 |    83.33 |     100 |    90.9 |                                                                                                   
  index.js                                                 |    90.9 |    83.33 |     100 |    90.9 | 14-15,52,66-69                                                                                    
 features/courses/components                               |   66.32 |     62.5 |   33.33 |   66.32 |                                                                                                   
  CourseItem.js                                            |   85.96 |       50 |      25 |   85.96 | 32-34,47-51                                                                                       
  WeekItem.js                                              |   58.27 |    66.66 |      40 |   58.27 | 19-44,77-85,99-121                                                                                
 features/courses/components/AddManualModal                |    93.9 |    77.77 |     100 |    93.9 |                                                                                                   
  index.js                                                 |    93.9 |    77.77 |     100 |    93.9 | 126-129,153-154,157-160                                                                           
 features/courses/import/components                        |   58.27 |      100 |    62.5 |   58.27 |                                                                                                   
  BatchImportModal.js                                      |   58.27 |      100 |    62.5 |   58.27 | 95-139,202-265,278-289                                                                            
 features/courses/import/logic                             |   86.27 |    66.66 |     100 |   86.27 |                                                                                                   
  BatchImportFlow.js                                       |   86.27 |    66.66 |     100 |   86.27 | 25-26,45-49                                                                                       
 features/courses/import/services/BatchScraper             |   67.41 |     67.5 |   81.81 |   67.41 |                                                                                                   
  index.js                                                 |   67.41 |     67.5 |   81.81 |   67.41 | 46-52,74-75,87-89,103-108,168,204-209,211-213,235,246-252,265-267,282-283,306-308,320-419,428,443 
 features/courses/logic                                    |   89.16 |    75.67 |   83.33 |   89.16 |                                                                                                   
  ActivityFocusService.js                                  |   91.17 |    66.66 |     100 |   91.17 | 24-26                                                                                             
  AutoScrollService.js                                     |   74.54 |    61.11 |      75 |   74.54 | 24-25,30-36,54-55,67-69,96-109                                                                    
  CourseGrouper.js                                         |     100 |     92.3 |     100 |     100 | 45                                                                                                
  CourseService.js                                         |   83.01 |    33.33 |      50 |   83.01 | 17-19,45-48,51-52                                                                                 
  CourseStructure.js                                       |     100 |    83.33 |     100 |     100 | 23                                                                                                
  TaskCategorizer.js                                       |   92.15 |    86.66 |     100 |   92.15 | 38-45                                                                                             
  TermParser.js                                            |     100 |    84.61 |     100 |     100 | 17                                                                                                
 features/courses/models                                   |     100 |      100 |     100 |     100 |                                                                                                   
  ActivityProgress.js                                      |     100 |      100 |     100 |     100 |                                                                                                   
 features/courses/repositories                             |   86.94 |    81.37 |    91.3 |   86.94 |                                                                                                   
  ActivityProgressRepository.js                            |   75.39 |    53.84 |   85.71 |   75.39 | 32-35,44-62,78-81,113-116                                                                         
  ActivityRepository.js                                    |   96.29 |      100 |      75 |   96.29 | 78-80                                                                                             
  CourseRepository.js                                      |   89.61 |    78.37 |     100 |   89.61 | 26-30,99-102,140-143,156-158,179-181                                                              
  CourseStorage.js                                         |   88.31 |     87.5 |     100 |   88.31 | 44-46,74-79,105-109,112-113,115-116                                                               
 features/courses/services                                 |   78.52 |    81.86 |   82.14 |   78.52 |                                                                                                   
  CourseRefresher.js                                       |     100 |    84.21 |     100 |     100 | 37,48,63                                                                                          
  HistoryService.js                                        |   91.01 |    81.81 |   83.33 |   91.01 | 48-55                                                                                             
  QuickLinksScraper.js                                     |   48.05 |       80 |   66.66 |   48.05 | 52-53,71-148                                                                                      
  ScraperService.js                                        |    64.7 |    68.75 |   66.66 |    64.7 | 30-31,45-47,64-70,81,86-87,159-221                                                                
  TaskProgressService.js                                   |     100 |      100 |     100 |     100 |                                                                                                   
  WeekActivitiesService.js                                 |    78.3 |       84 |      80 |    78.3 | 49-54,78-82,84-89,95-100,155,170-171,188-213,246-247,267-271                                      
  WeekContentScraper.js                                    |    91.5 |    83.67 |   85.71 |    91.5 | 29-30,95-99,138-147,202,231-232,244-245                                                           
 features/courses/services/WeekContentScraper              |     100 |      100 |     100 |     100 |                                                                                                   
  StrategyRegistry.js                                      |     100 |      100 |     100 |     100 |                                                                                                   
 features/courses/services/WeekContentScraper/strategies   |      96 |    81.75 |   88.88 |      96 |                                                                                                   
  ContentStrategy.js                                       |   91.17 |    88.23 |      60 |   91.17 | 16-17,25-26,64-65                                                                                 
  DefaultStrategy.js                                       |   91.26 |       80 |     100 |   91.26 | 58-64,88-89                                                                                       
  ForumStrategy.js                                         |     100 |    68.75 |     100 |     100 | 7-8,24-36                                                                                         
  QuizStrategy.js                                          |     100 |    84.21 |     100 |     100 | 8-9,31                                                                                            
  ResourceStrategy.js                                      |     100 |    68.75 |     100 |     100 | 7-8,24-36                                                                                         
  UrlStrategy.js                                           |   94.87 |    64.28 |     100 |   94.87 | 16-17                                                                                             
  VideoStrategy.js                                         |     100 |    97.22 |     100 |     100 | 63                                                                                                
 features/courses/views/CourseWeekTasksView                |   87.86 |       60 |     100 |   87.86 |                                                                                                   
  index.js                                                 |   87.86 |       60 |     100 |   87.86 | 31-32,69,92-94,132-137,175-179,188-191,201-204                                                    
 features/courses/views/CourseWeeksView                    |   87.98 |    81.39 |   72.22 |   87.98 |                                                                                                   
  HeaderManager.js                                         |     100 |      100 |     100 |     100 |                                                                                                   
  PreviewManager.js                                        |     100 |    96.29 |     100 |     100 | 50                                                                                                
  ViewTemplate.js                                          |     100 |      100 |     100 |     100 |                                                                                                   
  WeeksManager.js                                          |   70.66 |    70.58 |      50 |   70.66 | 46,65-67,70-75,121,125-129,138-184,198-200                                                        
  index.js                                                 |   91.83 |    70.58 |   66.66 |   91.83 | 31-33,42-43,70-72                                                                                 
 features/courses/views/CoursesView                        |   97.29 |    88.88 |   33.33 |   97.29 |                                                                                                   
  index.js                                                 |   97.29 |    88.88 |   33.33 |   97.29 | 127-128,146-147                                                                                   
 features/courses/views/DetailsActivitiesWeekView          |   91.74 |    62.29 |      75 |   91.74 |                                                                                                   
  ActivityItemFactory.js                                   |   96.96 |    83.33 |     100 |   96.96 | 54-56                                                                                             
  ActivityRenderer.js                                      |   80.28 |       60 |   66.66 |   80.28 | 32-37,57-60,67-70                                                                                 
  ChipsManager.js                                          |    82.3 |    58.33 |   83.33 |    82.3 | 46-48,75,80-81,94-110                                                                             
  HeaderManager.js                                         |     100 |      100 |     100 |     100 |                                                                                                   
  SkeletonManager.js                                       |    90.9 |       50 |      50 |    90.9 | 30-32                                                                                             
  ViewTemplate.js                                          |     100 |      100 |     100 |     100 |                                                                                                   
  index.js                                                 |   94.18 |    54.83 |   64.28 |   94.18 | 34,53-55,124-126,132-134,252-256                                                                  
 features/courses/views/DetailsActivitiesWeekView/handlers |     100 |    94.73 |     100 |     100 |                                                                                                   
  ClearHandler.js                                          |     100 |      100 |     100 |     100 |                                                                                                   
  RefreshHandler.js                                        |     100 |     90.9 |     100 |     100 | 29                                                                                                
 features/feedback/ui                                      |     100 |      100 |     100 |     100 |                                                                                                   
  FeedbackView.js                                          |     100 |      100 |     100 |     100 |                                                                                                   
 features/home/ui                                          |   93.25 |      100 |     100 |   93.25 |                                                                                                   
  HomeView.js                                              |   93.25 |      100 |     100 |   93.25 | 80-85                                                                                             
 features/session/logic                                    |     100 |      100 |     100 |     100 |                                                                                                   
  SessionManager.js                                        |     100 |      100 |     100 |     100 |                                                                                                   
 features/settings/logic                                   |   59.57 |    84.21 |   68.18 |   59.57 |                                                                                                   
  ChipsSettingsManager.js                                  |      85 |    66.66 |      80 |      85 | 41-44,67-69,82-84,89,94-97                                                                        
  EmailDomainValidator.js                                  |     100 |      100 |     100 |     100 |                                                                                                   
  SettingsController.js                                    |   20.41 |      100 |      25 |   20.41 | 23-31,38-60,67-186                                                                                
  UISettingsManager.js                                     |    92.4 |       80 |   66.66 |    92.4 | 39-40,69-72                                                                                       
  UserPreferencesManager.js                                |   78.48 |      100 |      80 |   78.48 | 62-78                                                                                             
 features/settings/services                                |    65.3 |    93.33 |      60 |    65.3 |                                                                                                   
  BackupService.js                                         |    65.3 |    93.33 |      60 |    65.3 | 26-59,107-108,132-146                                                                             
 features/settings/ui                                      |   93.71 |    94.44 |      70 |   93.71 |                                                                                                   
  SettingsView.js                                          |   93.71 |    94.44 |      70 |   93.71 | 232,236,268-285,345-346                                                                           
 features/settings/ui/components                           |   94.78 |       75 |     100 |   94.78 |                                                                                                   
  ConfigForm.js                                            |   94.78 |       75 |     100 |   94.78 | 70-71,88-90,111                                                                                   
 shared/constants                                          |     100 |      100 |     100 |     100 |                                                                                                   
  AppLinks.js                                              |     100 |      100 |     100 |     100 |                                                                                                   
 shared/logic                                              |     100 |    76.92 |     100 |     100 |                                                                                                   
  AutoScroll.js                                            |     100 |    76.92 |     100 |     100 | 37,62,81                                                                                          
 shared/security                                           |     100 |     92.3 |     100 |     100 |                                                                                                   
  TrustedTypesPolicy.js                                    |     100 |     92.3 |     100 |     100 | 14                                                                                                
 shared/services                                           |   97.74 |    94.54 |     100 |   97.74 |                                                                                                   
  BackupService.js                                         |   98.29 |    94.11 |     100 |   98.29 | 98-99                                                                                             
  NavigationService.js                                     |   97.46 |    94.73 |     100 |   97.46 | 82-83,142-143,232-233                                                                             
 shared/ui                                                 |   92.39 |    92.68 |   94.44 |   92.39 |                                                                                                   
  ActionMenu.js                                            |     100 |    88.88 |     100 |     100 | 34                                                                                                
  ContextualChips.js                                       |   94.06 |     92.3 |     100 |   94.06 | 67-69,110-113                                                                                     
  Modal.js                                                 |     100 |     92.3 |     100 |     100 | 79                                                                                                
  SkeletonLoader.js                                        |   77.39 |      100 |   66.66 |   77.39 | 89-114                                                                                            
 shared/ui/feedback                                        |   85.71 |    66.66 |     100 |   85.71 |                                                                                                   
  Toaster.js                                               |   85.71 |    66.66 |     100 |   85.71 | 25-26,34-35,38-39                                                                                 
 shared/ui/layout                                          |     100 |      100 |     100 |     100 |                                                                                                   
  MainLayout.js                                            |     100 |      100 |     100 |     100 |                                                                                                   
  TopNav.js                                                |     100 |      100 |     100 |     100 |                                                                                                   
 shared/utils                                              |   91.79 |    89.52 |   91.66 |   91.79 |                                                                                                   
  ChunkedStorage.js                                        |     100 |      100 |     100 |     100 |                                                                                                   
  CompressionUtils.js                                      |     100 |      100 |     100 |     100 |                                                                                                   
  DOMSafe.js                                               |   93.14 |    92.85 |   83.33 |   93.14 | 110-111,229-243                                                                                   
  DomUtils.js                                              |     100 |      100 |     100 |     100 |                                                                                                   
  ErrorHandler.js                                          |     100 |       75 |     100 |     100 | 40                                                                                                
  Logger.js                                                |   77.38 |       90 |   85.71 |   77.38 | 74-76,120-133,146-166                                                                             
  StorageGuard.js                                          |   86.32 |    78.57 |     100 |   86.32 | 32-45,98-99                                                                                       
  Tabs.js                                                  |   88.79 |    74.35 |   85.71 |   88.79 | 12-13,34-35,60-62,66-69,114-115                                                                   
  settings.js                                              |     100 |      100 |     100 |     100 |                                                                                                   
-----------------------------------------------------------|---------|----------|---------|---------|---------------------------------------------------------------------------------------------------
Test Suites: 85 passed, 85 total
Tests:       651 passed, 651 total
Snapshots:   0 total
Time:        12.611 s
Ran all test suites.
